//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/Salton/Documents/Projects/xstream/xstream/src/java/cucumber/deps/com/thoughtworks/xstream/annotations/AnnotationReflectionConverter.java
//

#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "J2ObjC_source.h"
#include "cucumber/deps/com/thoughtworks/xstream/annotations/AnnotationProvider.h"
#include "cucumber/deps/com/thoughtworks/xstream/annotations/AnnotationReflectionConverter.h"
#include "cucumber/deps/com/thoughtworks/xstream/annotations/XStreamConverter.h"
#include "cucumber/deps/com/thoughtworks/xstream/converters/Converter.h"
#include "cucumber/deps/com/thoughtworks/xstream/converters/ConverterMatcher.h"
#include "cucumber/deps/com/thoughtworks/xstream/converters/MarshallingContext.h"
#include "cucumber/deps/com/thoughtworks/xstream/converters/SingleValueConverter.h"
#include "cucumber/deps/com/thoughtworks/xstream/converters/SingleValueConverterWrapper.h"
#include "cucumber/deps/com/thoughtworks/xstream/converters/UnmarshallingContext.h"
#include "cucumber/deps/com/thoughtworks/xstream/converters/reflection/ObjectAccessException.h"
#include "cucumber/deps/com/thoughtworks/xstream/converters/reflection/ReflectionConverter.h"
#include "cucumber/deps/com/thoughtworks/xstream/converters/reflection/ReflectionProvider.h"
#include "cucumber/deps/com/thoughtworks/xstream/mapper/Mapper.h"
#include "java/lang/Deprecated.h"
#include "java/lang/IllegalAccessException.h"
#include "java/lang/InstantiationException.h"
#include "java/lang/NoSuchMethodException.h"
#include "java/lang/Throwable.h"
#include "java/lang/annotation/Annotation.h"
#include "java/lang/reflect/Constructor.h"
#include "java/lang/reflect/Field.h"
#include "java/lang/reflect/InvocationTargetException.h"
#include "java/util/HashMap.h"
#include "java/util/Map.h"

@interface CucumberDepsComThoughtworksXstreamAnnotationsAnnotationReflectionConverter () {
 @public
  CucumberDepsComThoughtworksXstreamAnnotationsAnnotationProvider *annotationProvider_;
  id<JavaUtilMap> cachedConverters_;
}

- (void)ensureCacheWithIOSClass:(IOSClass *)type;

/*!
 @brief Instantiates a converter using its default constructor.
 @param type the converter type to instantiate
 @return the new instance
 */
- (id<CucumberDepsComThoughtworksXstreamConvertersConverter>)newInstanceWithIOSClass:(IOSClass *)type OBJC_METHOD_FAMILY_NONE;

@end

J2OBJC_FIELD_SETTER(CucumberDepsComThoughtworksXstreamAnnotationsAnnotationReflectionConverter, annotationProvider_, CucumberDepsComThoughtworksXstreamAnnotationsAnnotationProvider *)
J2OBJC_FIELD_SETTER(CucumberDepsComThoughtworksXstreamAnnotationsAnnotationReflectionConverter, cachedConverters_, id<JavaUtilMap>)

__attribute__((unused)) static void CucumberDepsComThoughtworksXstreamAnnotationsAnnotationReflectionConverter_ensureCacheWithIOSClass_(CucumberDepsComThoughtworksXstreamAnnotationsAnnotationReflectionConverter *self, IOSClass *type);

__attribute__((unused)) static id<CucumberDepsComThoughtworksXstreamConvertersConverter> CucumberDepsComThoughtworksXstreamAnnotationsAnnotationReflectionConverter_newInstanceWithIOSClass_(CucumberDepsComThoughtworksXstreamAnnotationsAnnotationReflectionConverter *self, IOSClass *type);

__attribute__((unused)) static IOSObjectArray *CucumberDepsComThoughtworksXstreamAnnotationsAnnotationReflectionConverter__Annotations$0(void);

__attribute__((unused)) static IOSObjectArray *CucumberDepsComThoughtworksXstreamAnnotationsAnnotationReflectionConverter__Annotations$1(void);

@implementation CucumberDepsComThoughtworksXstreamAnnotationsAnnotationReflectionConverter

- (instancetype __nonnull)initWithCucumberDepsComThoughtworksXstreamMapperMapper:(id<CucumberDepsComThoughtworksXstreamMapperMapper>)mapper
    withCucumberDepsComThoughtworksXstreamConvertersReflectionReflectionProvider:(id<CucumberDepsComThoughtworksXstreamConvertersReflectionReflectionProvider>)reflectionProvider
             withCucumberDepsComThoughtworksXstreamAnnotationsAnnotationProvider:(CucumberDepsComThoughtworksXstreamAnnotationsAnnotationProvider *)annotationProvider {
  CucumberDepsComThoughtworksXstreamAnnotationsAnnotationReflectionConverter_initWithCucumberDepsComThoughtworksXstreamMapperMapper_withCucumberDepsComThoughtworksXstreamConvertersReflectionReflectionProvider_withCucumberDepsComThoughtworksXstreamAnnotationsAnnotationProvider_(self, mapper, reflectionProvider, annotationProvider);
  return self;
}

- (void)marshallFieldWithCucumberDepsComThoughtworksXstreamConvertersMarshallingContext:(id<CucumberDepsComThoughtworksXstreamConvertersMarshallingContext>)context
                                                                                 withId:(id)newObj
                                                               withJavaLangReflectField:(JavaLangReflectField *)field {
  id<CucumberDepsComThoughtworksXstreamAnnotationsXStreamConverter> annotation = ((id<CucumberDepsComThoughtworksXstreamAnnotationsXStreamConverter>) [((CucumberDepsComThoughtworksXstreamAnnotationsAnnotationProvider *) nil_chk(annotationProvider_)) getAnnotationWithJavaLangReflectField:field withIOSClass:CucumberDepsComThoughtworksXstreamAnnotationsXStreamConverter_class_()]);
  if (annotation != nil) {
    IOSClass *type = [annotation value];
    CucumberDepsComThoughtworksXstreamAnnotationsAnnotationReflectionConverter_ensureCacheWithIOSClass_(self, type);
    [((id<CucumberDepsComThoughtworksXstreamConvertersMarshallingContext>) nil_chk(context)) convertAnotherWithId:newObj withCucumberDepsComThoughtworksXstreamConvertersConverter:[((id<JavaUtilMap>) nil_chk(cachedConverters_)) getWithId:type]];
  }
  else {
    [((id<CucumberDepsComThoughtworksXstreamConvertersMarshallingContext>) nil_chk(context)) convertAnotherWithId:newObj];
  }
}

- (void)ensureCacheWithIOSClass:(IOSClass *)type {
  CucumberDepsComThoughtworksXstreamAnnotationsAnnotationReflectionConverter_ensureCacheWithIOSClass_(self, type);
}

- (id)unmarshallFieldWithCucumberDepsComThoughtworksXstreamConvertersUnmarshallingContext:(id<CucumberDepsComThoughtworksXstreamConvertersUnmarshallingContext>)context
                                                                                   withId:(id)result
                                                                             withIOSClass:(IOSClass *)type
                                                                 withJavaLangReflectField:(JavaLangReflectField *)field {
  id<CucumberDepsComThoughtworksXstreamAnnotationsXStreamConverter> annotation = ((id<CucumberDepsComThoughtworksXstreamAnnotationsXStreamConverter>) [((CucumberDepsComThoughtworksXstreamAnnotationsAnnotationProvider *) nil_chk(annotationProvider_)) getAnnotationWithJavaLangReflectField:field withIOSClass:CucumberDepsComThoughtworksXstreamAnnotationsXStreamConverter_class_()]);
  if (annotation != nil) {
    IOSClass *converterType = [annotation value];
    CucumberDepsComThoughtworksXstreamAnnotationsAnnotationReflectionConverter_ensureCacheWithIOSClass_(self, converterType);
    return [((id<CucumberDepsComThoughtworksXstreamConvertersUnmarshallingContext>) nil_chk(context)) convertAnotherWithId:result withIOSClass:type withCucumberDepsComThoughtworksXstreamConvertersConverter:[((id<JavaUtilMap>) nil_chk(cachedConverters_)) getWithId:converterType]];
  }
  else {
    return [((id<CucumberDepsComThoughtworksXstreamConvertersUnmarshallingContext>) nil_chk(context)) convertAnotherWithId:result withIOSClass:type];
  }
}

- (id<CucumberDepsComThoughtworksXstreamConvertersConverter>)newInstanceWithIOSClass:(IOSClass *)type {
  return CucumberDepsComThoughtworksXstreamAnnotationsAnnotationReflectionConverter_newInstanceWithIOSClass_(self, type);
}

- (void)dealloc {
  RELEASE_(annotationProvider_);
  RELEASE_(cachedConverters_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x1, -1, 0, -1, -1, 1, -1 },
    { NULL, "V", 0x4, 2, 3, -1, -1, -1, -1 },
    { NULL, "V", 0x2, 4, 5, -1, 6, -1, -1 },
    { NULL, "LNSObject;", 0x4, 7, 8, -1, -1, -1, -1 },
    { NULL, "LCucumberDepsComThoughtworksXstreamConvertersConverter;", 0x2, 9, 5, -1, 10, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initWithCucumberDepsComThoughtworksXstreamMapperMapper:withCucumberDepsComThoughtworksXstreamConvertersReflectionReflectionProvider:withCucumberDepsComThoughtworksXstreamAnnotationsAnnotationProvider:);
  methods[1].selector = @selector(marshallFieldWithCucumberDepsComThoughtworksXstreamConvertersMarshallingContext:withId:withJavaLangReflectField:);
  methods[2].selector = @selector(ensureCacheWithIOSClass:);
  methods[3].selector = @selector(unmarshallFieldWithCucumberDepsComThoughtworksXstreamConvertersUnmarshallingContext:withId:withIOSClass:withJavaLangReflectField:);
  methods[4].selector = @selector(newInstanceWithIOSClass:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "annotationProvider_", "LCucumberDepsComThoughtworksXstreamAnnotationsAnnotationProvider;", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
    { "cachedConverters_", "LJavaUtilMap;", .constantValue.asLong = 0, 0x12, -1, -1, 11, -1 },
  };
  static const void *ptrTable[] = { "LCucumberDepsComThoughtworksXstreamMapperMapper;LCucumberDepsComThoughtworksXstreamConvertersReflectionReflectionProvider;LCucumberDepsComThoughtworksXstreamAnnotationsAnnotationProvider;", (void *)&CucumberDepsComThoughtworksXstreamAnnotationsAnnotationReflectionConverter__Annotations$0, "marshallField", "LCucumberDepsComThoughtworksXstreamConvertersMarshallingContext;LNSObject;LJavaLangReflectField;", "ensureCache", "LIOSClass;", "(Ljava/lang/Class<+Lcucumber/deps/com/thoughtworks/xstream/converters/ConverterMatcher;>;)V", "unmarshallField", "LCucumberDepsComThoughtworksXstreamConvertersUnmarshallingContext;LNSObject;LIOSClass;LJavaLangReflectField;", "newInstance", "(Ljava/lang/Class<+Lcucumber/deps/com/thoughtworks/xstream/converters/ConverterMatcher;>;)Lcucumber/deps/com/thoughtworks/xstream/converters/Converter;", "Ljava/util/Map<Ljava/lang/Class<+Lcucumber/deps/com/thoughtworks/xstream/converters/ConverterMatcher;>;Lcucumber/deps/com/thoughtworks/xstream/converters/Converter;>;", (void *)&CucumberDepsComThoughtworksXstreamAnnotationsAnnotationReflectionConverter__Annotations$1 };
  static const J2ObjcClassInfo _CucumberDepsComThoughtworksXstreamAnnotationsAnnotationReflectionConverter = { "AnnotationReflectionConverter", "cucumber.deps.com.thoughtworks.xstream.annotations", ptrTable, methods, fields, 7, 0x1, 5, 2, -1, -1, -1, -1, 12 };
  return &_CucumberDepsComThoughtworksXstreamAnnotationsAnnotationReflectionConverter;
}

@end

void CucumberDepsComThoughtworksXstreamAnnotationsAnnotationReflectionConverter_initWithCucumberDepsComThoughtworksXstreamMapperMapper_withCucumberDepsComThoughtworksXstreamConvertersReflectionReflectionProvider_withCucumberDepsComThoughtworksXstreamAnnotationsAnnotationProvider_(CucumberDepsComThoughtworksXstreamAnnotationsAnnotationReflectionConverter *self, id<CucumberDepsComThoughtworksXstreamMapperMapper> mapper, id<CucumberDepsComThoughtworksXstreamConvertersReflectionReflectionProvider> reflectionProvider, CucumberDepsComThoughtworksXstreamAnnotationsAnnotationProvider *annotationProvider) {
  CucumberDepsComThoughtworksXstreamConvertersReflectionReflectionConverter_initWithCucumberDepsComThoughtworksXstreamMapperMapper_withCucumberDepsComThoughtworksXstreamConvertersReflectionReflectionProvider_(self, mapper, reflectionProvider);
  JreStrongAssign(&self->annotationProvider_, annotationProvider);
  JreStrongAssignAndConsume(&self->cachedConverters_, new_JavaUtilHashMap_init());
}

CucumberDepsComThoughtworksXstreamAnnotationsAnnotationReflectionConverter *new_CucumberDepsComThoughtworksXstreamAnnotationsAnnotationReflectionConverter_initWithCucumberDepsComThoughtworksXstreamMapperMapper_withCucumberDepsComThoughtworksXstreamConvertersReflectionReflectionProvider_withCucumberDepsComThoughtworksXstreamAnnotationsAnnotationProvider_(id<CucumberDepsComThoughtworksXstreamMapperMapper> mapper, id<CucumberDepsComThoughtworksXstreamConvertersReflectionReflectionProvider> reflectionProvider, CucumberDepsComThoughtworksXstreamAnnotationsAnnotationProvider *annotationProvider) {
  J2OBJC_NEW_IMPL(CucumberDepsComThoughtworksXstreamAnnotationsAnnotationReflectionConverter, initWithCucumberDepsComThoughtworksXstreamMapperMapper_withCucumberDepsComThoughtworksXstreamConvertersReflectionReflectionProvider_withCucumberDepsComThoughtworksXstreamAnnotationsAnnotationProvider_, mapper, reflectionProvider, annotationProvider)
}

CucumberDepsComThoughtworksXstreamAnnotationsAnnotationReflectionConverter *create_CucumberDepsComThoughtworksXstreamAnnotationsAnnotationReflectionConverter_initWithCucumberDepsComThoughtworksXstreamMapperMapper_withCucumberDepsComThoughtworksXstreamConvertersReflectionReflectionProvider_withCucumberDepsComThoughtworksXstreamAnnotationsAnnotationProvider_(id<CucumberDepsComThoughtworksXstreamMapperMapper> mapper, id<CucumberDepsComThoughtworksXstreamConvertersReflectionReflectionProvider> reflectionProvider, CucumberDepsComThoughtworksXstreamAnnotationsAnnotationProvider *annotationProvider) {
  J2OBJC_CREATE_IMPL(CucumberDepsComThoughtworksXstreamAnnotationsAnnotationReflectionConverter, initWithCucumberDepsComThoughtworksXstreamMapperMapper_withCucumberDepsComThoughtworksXstreamConvertersReflectionReflectionProvider_withCucumberDepsComThoughtworksXstreamAnnotationsAnnotationProvider_, mapper, reflectionProvider, annotationProvider)
}

void CucumberDepsComThoughtworksXstreamAnnotationsAnnotationReflectionConverter_ensureCacheWithIOSClass_(CucumberDepsComThoughtworksXstreamAnnotationsAnnotationReflectionConverter *self, IOSClass *type) {
  if (![((id<JavaUtilMap>) nil_chk(self->cachedConverters_)) containsKeyWithId:type]) {
    [self->cachedConverters_ putWithId:type withId:CucumberDepsComThoughtworksXstreamAnnotationsAnnotationReflectionConverter_newInstanceWithIOSClass_(self, type)];
  }
}

id<CucumberDepsComThoughtworksXstreamConvertersConverter> CucumberDepsComThoughtworksXstreamAnnotationsAnnotationReflectionConverter_newInstanceWithIOSClass_(CucumberDepsComThoughtworksXstreamAnnotationsAnnotationReflectionConverter *self, IOSClass *type) {
  id<CucumberDepsComThoughtworksXstreamConvertersConverter> converter;
  @try {
    if ([CucumberDepsComThoughtworksXstreamConvertersSingleValueConverter_class_() isAssignableFrom:type]) {
      id<CucumberDepsComThoughtworksXstreamConvertersSingleValueConverter> svc = (id<CucumberDepsComThoughtworksXstreamConvertersSingleValueConverter>) cast_check([((JavaLangReflectConstructor *) nil_chk([((IOSClass *) nil_chk(type)) getConstructor:[IOSObjectArray arrayWithLength:0 type:IOSClass_class_()]])) newInstanceWithNSObjectArray:[IOSObjectArray arrayWithLength:0 type:NSObject_class_()]], CucumberDepsComThoughtworksXstreamConvertersSingleValueConverter_class_());
      converter = create_CucumberDepsComThoughtworksXstreamConvertersSingleValueConverterWrapper_initWithCucumberDepsComThoughtworksXstreamConvertersSingleValueConverter_(svc);
    }
    else {
      converter = (id<CucumberDepsComThoughtworksXstreamConvertersConverter>) cast_check([((JavaLangReflectConstructor *) nil_chk([((IOSClass *) nil_chk(type)) getConstructor:[IOSObjectArray arrayWithLength:0 type:IOSClass_class_()]])) newInstanceWithNSObjectArray:[IOSObjectArray arrayWithLength:0 type:NSObject_class_()]], CucumberDepsComThoughtworksXstreamConvertersConverter_class_());
    }
  }
  @catch (JavaLangReflectInvocationTargetException *e) {
    @throw create_CucumberDepsComThoughtworksXstreamConvertersReflectionObjectAccessException_initWithNSString_withJavaLangThrowable_(JreStrcat("$$", @"Cannot construct ", [((IOSClass *) nil_chk(type)) getName]), [e getCause]);
  }
  @catch (JavaLangInstantiationException *e) {
    @throw create_CucumberDepsComThoughtworksXstreamConvertersReflectionObjectAccessException_initWithNSString_withJavaLangThrowable_(JreStrcat("$$", @"Cannot construct ", [((IOSClass *) nil_chk(type)) getName]), e);
  }
  @catch (JavaLangIllegalAccessException *e) {
    @throw create_CucumberDepsComThoughtworksXstreamConvertersReflectionObjectAccessException_initWithNSString_withJavaLangThrowable_(JreStrcat("$$", @"Cannot construct ", [((IOSClass *) nil_chk(type)) getName]), e);
  }
  @catch (JavaLangNoSuchMethodException *e) {
    @throw create_CucumberDepsComThoughtworksXstreamConvertersReflectionObjectAccessException_initWithNSString_withJavaLangThrowable_(JreStrcat("$$", @"Cannot construct ", [((IOSClass *) nil_chk(type)) getName]), e);
  }
  return converter;
}

IOSObjectArray *CucumberDepsComThoughtworksXstreamAnnotationsAnnotationReflectionConverter__Annotations$0() {
  return [IOSObjectArray arrayWithObjects:(id[]){ create_JavaLangDeprecated() } count:1 type:JavaLangAnnotationAnnotation_class_()];
}

IOSObjectArray *CucumberDepsComThoughtworksXstreamAnnotationsAnnotationReflectionConverter__Annotations$1() {
  return [IOSObjectArray arrayWithObjects:(id[]){ create_JavaLangDeprecated() } count:1 type:JavaLangAnnotationAnnotation_class_()];
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(CucumberDepsComThoughtworksXstreamAnnotationsAnnotationReflectionConverter)
