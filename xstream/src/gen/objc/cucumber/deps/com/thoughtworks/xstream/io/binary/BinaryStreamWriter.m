//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/Salton/Documents/Projects/xstream/xstream/src/java/cucumber/deps/com/thoughtworks/xstream/io/binary/BinaryStreamWriter.java
//

#include "IOSClass.h"
#include "J2ObjC_source.h"
#include "cucumber/deps/com/thoughtworks/xstream/io/HierarchicalStreamWriter.h"
#include "cucumber/deps/com/thoughtworks/xstream/io/StreamException.h"
#include "cucumber/deps/com/thoughtworks/xstream/io/binary/BinaryStreamWriter.h"
#include "cucumber/deps/com/thoughtworks/xstream/io/binary/Token.h"
#include "java/io/DataOutputStream.h"
#include "java/io/IOException.h"
#include "java/io/OutputStream.h"
#include "java/lang/Long.h"
#include "java/util/HashMap.h"
#include "java/util/Map.h"

@class CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter_IdRegistry;

@interface CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter () {
 @public
  CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter_IdRegistry *idRegistry_;
  JavaIoDataOutputStream *out_;
  CucumberDepsComThoughtworksXstreamIoBinaryToken_Formatter *tokenFormatter_;
}

- (void)writeWithCucumberDepsComThoughtworksXstreamIoBinaryToken:(CucumberDepsComThoughtworksXstreamIoBinaryToken *)token;

@end

J2OBJC_FIELD_SETTER(CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter, idRegistry_, CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter_IdRegistry *)
J2OBJC_FIELD_SETTER(CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter, out_, JavaIoDataOutputStream *)
J2OBJC_FIELD_SETTER(CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter, tokenFormatter_, CucumberDepsComThoughtworksXstreamIoBinaryToken_Formatter *)

__attribute__((unused)) static void CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter_writeWithCucumberDepsComThoughtworksXstreamIoBinaryToken_(CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter *self, CucumberDepsComThoughtworksXstreamIoBinaryToken *token);

@interface CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter_IdRegistry : NSObject {
 @public
  CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter *this$0_;
  jlong nextId_;
  id<JavaUtilMap> ids_;
}

- (instancetype __nonnull)initWithCucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter:(CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter *)outer$;

- (jlong)getIdWithNSString:(NSString *)value;

@end

J2OBJC_EMPTY_STATIC_INIT(CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter_IdRegistry)

J2OBJC_FIELD_SETTER(CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter_IdRegistry, ids_, id<JavaUtilMap>)

__attribute__((unused)) static void CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter_IdRegistry_initWithCucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter_(CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter_IdRegistry *self, CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter *outer$);

__attribute__((unused)) static CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter_IdRegistry *new_CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter_IdRegistry_initWithCucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter_(CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter *outer$) NS_RETURNS_RETAINED;

__attribute__((unused)) static CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter_IdRegistry *create_CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter_IdRegistry_initWithCucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter_(CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter *outer$);

J2OBJC_TYPE_LITERAL_HEADER(CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter_IdRegistry)

@implementation CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter

- (instancetype __nonnull)initWithJavaIoOutputStream:(JavaIoOutputStream *)outputStream {
  CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter_initWithJavaIoOutputStream_(self, outputStream);
  return self;
}

- (void)startNodeWithNSString:(NSString *)name {
  CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter_writeWithCucumberDepsComThoughtworksXstreamIoBinaryToken_(self, create_CucumberDepsComThoughtworksXstreamIoBinaryToken_StartNode_initWithLong_([((CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter_IdRegistry *) nil_chk(idRegistry_)) getIdWithNSString:name]));
}

- (void)startNodeWithNSString:(NSString *)name
                 withIOSClass:(IOSClass *)clazz {
  [self startNodeWithNSString:name];
}

- (void)addAttributeWithNSString:(NSString *)name
                    withNSString:(NSString *)value {
  CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter_writeWithCucumberDepsComThoughtworksXstreamIoBinaryToken_(self, create_CucumberDepsComThoughtworksXstreamIoBinaryToken_Attribute_initWithLong_withNSString_([((CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter_IdRegistry *) nil_chk(idRegistry_)) getIdWithNSString:name], value));
}

- (void)setValueWithNSString:(NSString *)text {
  CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter_writeWithCucumberDepsComThoughtworksXstreamIoBinaryToken_(self, create_CucumberDepsComThoughtworksXstreamIoBinaryToken_Value_initWithNSString_(text));
}

- (void)endNode {
  CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter_writeWithCucumberDepsComThoughtworksXstreamIoBinaryToken_(self, create_CucumberDepsComThoughtworksXstreamIoBinaryToken_EndNode_init());
}

- (void)flush {
  @try {
    [((JavaIoDataOutputStream *) nil_chk(out_)) flush];
  }
  @catch (JavaIoIOException *e) {
    @throw create_CucumberDepsComThoughtworksXstreamIoStreamException_initWithJavaLangThrowable_(e);
  }
}

- (void)close {
  @try {
    [((JavaIoDataOutputStream *) nil_chk(out_)) close];
  }
  @catch (JavaIoIOException *e) {
    @throw create_CucumberDepsComThoughtworksXstreamIoStreamException_initWithJavaLangThrowable_(e);
  }
}

- (id<CucumberDepsComThoughtworksXstreamIoHierarchicalStreamWriter>)underlyingWriter {
  return self;
}

- (void)writeWithCucumberDepsComThoughtworksXstreamIoBinaryToken:(CucumberDepsComThoughtworksXstreamIoBinaryToken *)token {
  CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter_writeWithCucumberDepsComThoughtworksXstreamIoBinaryToken_(self, token);
}

- (void)dealloc {
  RELEASE_(idRegistry_);
  RELEASE_(out_);
  RELEASE_(tokenFormatter_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x1, -1, 0, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 1, 2, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 1, 3, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 4, 5, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 6, 2, -1, -1, -1, -1 },
    { NULL, "V", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LCucumberDepsComThoughtworksXstreamIoHierarchicalStreamWriter;", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x2, 7, 8, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initWithJavaIoOutputStream:);
  methods[1].selector = @selector(startNodeWithNSString:);
  methods[2].selector = @selector(startNodeWithNSString:withIOSClass:);
  methods[3].selector = @selector(addAttributeWithNSString:withNSString:);
  methods[4].selector = @selector(setValueWithNSString:);
  methods[5].selector = @selector(endNode);
  methods[6].selector = @selector(flush);
  methods[7].selector = @selector(close);
  methods[8].selector = @selector(underlyingWriter);
  methods[9].selector = @selector(writeWithCucumberDepsComThoughtworksXstreamIoBinaryToken:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "idRegistry_", "LCucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter_IdRegistry;", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
    { "out_", "LJavaIoDataOutputStream;", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
    { "tokenFormatter_", "LCucumberDepsComThoughtworksXstreamIoBinaryToken_Formatter;", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "LJavaIoOutputStream;", "startNode", "LNSString;", "LNSString;LIOSClass;", "addAttribute", "LNSString;LNSString;", "setValue", "write", "LCucumberDepsComThoughtworksXstreamIoBinaryToken;", "LCucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter_IdRegistry;" };
  static const J2ObjcClassInfo _CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter = { "BinaryStreamWriter", "cucumber.deps.com.thoughtworks.xstream.io.binary", ptrTable, methods, fields, 7, 0x1, 10, 3, -1, 9, -1, -1, -1 };
  return &_CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter;
}

@end

void CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter_initWithJavaIoOutputStream_(CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter *self, JavaIoOutputStream *outputStream) {
  NSObject_init(self);
  JreStrongAssignAndConsume(&self->idRegistry_, new_CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter_IdRegistry_initWithCucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter_(self));
  JreStrongAssignAndConsume(&self->tokenFormatter_, new_CucumberDepsComThoughtworksXstreamIoBinaryToken_Formatter_init());
  JreStrongAssignAndConsume(&self->out_, new_JavaIoDataOutputStream_initWithJavaIoOutputStream_(outputStream));
}

CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter *new_CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter_initWithJavaIoOutputStream_(JavaIoOutputStream *outputStream) {
  J2OBJC_NEW_IMPL(CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter, initWithJavaIoOutputStream_, outputStream)
}

CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter *create_CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter_initWithJavaIoOutputStream_(JavaIoOutputStream *outputStream) {
  J2OBJC_CREATE_IMPL(CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter, initWithJavaIoOutputStream_, outputStream)
}

void CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter_writeWithCucumberDepsComThoughtworksXstreamIoBinaryToken_(CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter *self, CucumberDepsComThoughtworksXstreamIoBinaryToken *token) {
  @try {
    [((CucumberDepsComThoughtworksXstreamIoBinaryToken_Formatter *) nil_chk(self->tokenFormatter_)) writeWithJavaIoDataOutput:self->out_ withCucumberDepsComThoughtworksXstreamIoBinaryToken:token];
  }
  @catch (JavaIoIOException *e) {
    @throw create_CucumberDepsComThoughtworksXstreamIoStreamException_initWithJavaLangThrowable_(e);
  }
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter)

@implementation CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter_IdRegistry

- (instancetype __nonnull)initWithCucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter:(CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter *)outer$ {
  CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter_IdRegistry_initWithCucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter_(self, outer$);
  return self;
}

- (jlong)getIdWithNSString:(NSString *)value {
  JavaLangLong *id_ = (JavaLangLong *) cast_chk([((id<JavaUtilMap>) nil_chk(ids_)) getWithId:value], [JavaLangLong class]);
  if (id_ == nil) {
    id_ = create_JavaLangLong_initWithLong_(++nextId_);
    [((id<JavaUtilMap>) nil_chk(ids_)) putWithId:value withId:id_];
    CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter_writeWithCucumberDepsComThoughtworksXstreamIoBinaryToken_(this$0_, create_CucumberDepsComThoughtworksXstreamIoBinaryToken_MapIdToValue_initWithLong_withNSString_([id_ longLongValue], value));
  }
  return [id_ longLongValue];
}

- (void)dealloc {
  RELEASE_(this$0_);
  RELEASE_(ids_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x2, -1, -1, -1, -1, -1, -1 },
    { NULL, "J", 0x1, 0, 1, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initWithCucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter:);
  methods[1].selector = @selector(getIdWithNSString:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", "LCucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter;", .constantValue.asLong = 0, 0x1012, -1, -1, -1, -1 },
    { "nextId_", "J", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "ids_", "LJavaUtilMap;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "getId", "LNSString;", "LCucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter;" };
  static const J2ObjcClassInfo _CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter_IdRegistry = { "IdRegistry", "cucumber.deps.com.thoughtworks.xstream.io.binary", ptrTable, methods, fields, 7, 0x2, 2, 3, 2, -1, -1, -1, -1 };
  return &_CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter_IdRegistry;
}

@end

void CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter_IdRegistry_initWithCucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter_(CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter_IdRegistry *self, CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter *outer$) {
  JreStrongAssign(&self->this$0_, outer$);
  NSObject_init(self);
  self->nextId_ = 0;
  JreStrongAssignAndConsume(&self->ids_, new_JavaUtilHashMap_init());
}

CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter_IdRegistry *new_CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter_IdRegistry_initWithCucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter_(CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter *outer$) {
  J2OBJC_NEW_IMPL(CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter_IdRegistry, initWithCucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter_, outer$)
}

CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter_IdRegistry *create_CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter_IdRegistry_initWithCucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter_(CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter *outer$) {
  J2OBJC_CREATE_IMPL(CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter_IdRegistry, initWithCucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter_, outer$)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(CucumberDepsComThoughtworksXstreamIoBinaryBinaryStreamWriter_IdRegistry)
