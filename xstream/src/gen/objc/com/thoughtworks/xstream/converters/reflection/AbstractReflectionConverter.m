//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/Salton/Documents/Projects/xstream/xstream/src/java/com/thoughtworks/xstream/converters/reflection/AbstractReflectionConverter.java
//

#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "J2ObjC_source.h"
#include "com/thoughtworks/xstream/converters/ConversionException.h"
#include "com/thoughtworks/xstream/converters/Converter.h"
#include "com/thoughtworks/xstream/converters/MarshallingContext.h"
#include "com/thoughtworks/xstream/converters/SingleValueConverter.h"
#include "com/thoughtworks/xstream/converters/UnmarshallingContext.h"
#include "com/thoughtworks/xstream/converters/reflection/AbstractReflectionConverter.h"
#include "com/thoughtworks/xstream/converters/reflection/ObjectAccessException.h"
#include "com/thoughtworks/xstream/converters/reflection/PureJavaReflectionProvider.h"
#include "com/thoughtworks/xstream/converters/reflection/ReflectionProvider.h"
#include "com/thoughtworks/xstream/converters/reflection/SerializationMethodInvoker.h"
#include "com/thoughtworks/xstream/core/ReferencingMarshallingContext.h"
#include "com/thoughtworks/xstream/core/util/ArrayIterator.h"
#include "com/thoughtworks/xstream/core/util/FastField.h"
#include "com/thoughtworks/xstream/core/util/HierarchicalStreams.h"
#include "com/thoughtworks/xstream/core/util/Primitives.h"
#include "com/thoughtworks/xstream/io/ExtendedHierarchicalStreamWriterHelper.h"
#include "com/thoughtworks/xstream/io/HierarchicalStreamReader.h"
#include "com/thoughtworks/xstream/io/HierarchicalStreamWriter.h"
#include "com/thoughtworks/xstream/mapper/CannotResolveClassException.h"
#include "com/thoughtworks/xstream/mapper/Mapper.h"
#include "java/lang/IllegalAccessException.h"
#include "java/lang/IllegalArgumentException.h"
#include "java/lang/NoClassDefFoundError.h"
#include "java/lang/System.h"
#include "java/lang/UnsupportedOperationException.h"
#include "java/lang/reflect/Array.h"
#include "java/lang/reflect/Field.h"
#include "java/lang/reflect/Modifier.h"
#include "java/util/AbstractList.h"
#include "java/util/ArrayList.h"
#include "java/util/Collection.h"
#include "java/util/Collections.h"
#include "java/util/HashMap.h"
#include "java/util/HashSet.h"
#include "java/util/Iterator.h"
#include "java/util/List.h"
#include "java/util/Map.h"
#include "java/util/Set.h"

#pragma clang diagnostic ignored "-Wprotocol"

@interface ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter () {
 @public
  id<ComThoughtworksXstreamConvertersReflectionReflectionProvider> pureJavaReflectionProvider_;
}

- (void)handleUnknownFieldWithIOSClass:(IOSClass *)classDefiningField
                          withNSString:(NSString *)fieldName
                          withIOSClass:(IOSClass *)resultType
                          withNSString:(NSString *)originalNodeName;

- (void)writeValueToImplicitCollectionWithId:(id)value
                             withJavaUtilMap:(id<JavaUtilMap>)implicitCollections
                                      withId:(id)result
                                withNSString:(NSString *)implicitFieldName;

- (IOSClass *)readDeclaringClassWithComThoughtworksXstreamIoHierarchicalStreamReader:(id<ComThoughtworksXstreamIoHierarchicalStreamReader>)reader;

- (id)readResolve;

@end

J2OBJC_FIELD_SETTER(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter, pureJavaReflectionProvider_, id<ComThoughtworksXstreamConvertersReflectionReflectionProvider>)

__attribute__((unused)) static void ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_handleUnknownFieldWithIOSClass_withNSString_withIOSClass_withNSString_(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter *self, IOSClass *classDefiningField, NSString *fieldName, IOSClass *resultType, NSString *originalNodeName);

__attribute__((unused)) static void ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_writeValueToImplicitCollectionWithId_withJavaUtilMap_withId_withNSString_(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter *self, id value, id<JavaUtilMap> implicitCollections, id result, NSString *implicitFieldName);

__attribute__((unused)) static IOSClass *ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_readDeclaringClassWithComThoughtworksXstreamIoHierarchicalStreamReader_(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter *self, id<ComThoughtworksXstreamIoHierarchicalStreamReader> reader);

__attribute__((unused)) static id ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_readResolve(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter *self);

@interface ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_1 : NSObject < ComThoughtworksXstreamConvertersReflectionReflectionProvider_Visitor > {
 @public
  ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter *this$0_;
  id<JavaUtilMap> val$defaultFieldDefinition_;
  id val$source_;
  id<ComThoughtworksXstreamIoHierarchicalStreamWriter> val$writer_;
  id<JavaUtilList> val$fields_;
  id<JavaUtilSet> writtenAttributes_;
}

- (instancetype __nonnull)initWithComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter:(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter *)outer$
                                                                                        withJavaUtilMap:(id<JavaUtilMap>)capture$0
                                                                                                 withId:(id)capture$1
                                                   withComThoughtworksXstreamIoHierarchicalStreamWriter:(id<ComThoughtworksXstreamIoHierarchicalStreamWriter>)capture$2
                                                                                       withJavaUtilList:(id<JavaUtilList>)capture$3;

- (void)visitWithNSString:(NSString *)fieldName
             withIOSClass:(IOSClass *)type
             withIOSClass:(IOSClass *)definedIn
                   withId:(id)value;

@end

J2OBJC_EMPTY_STATIC_INIT(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_1)

J2OBJC_FIELD_SETTER(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_1, writtenAttributes_, id<JavaUtilSet>)

__attribute__((unused)) static void ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_1_initWithComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_withJavaUtilMap_withId_withComThoughtworksXstreamIoHierarchicalStreamWriter_withJavaUtilList_(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_1 *self, ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter *outer$, id<JavaUtilMap> capture$0, id capture$1, id<ComThoughtworksXstreamIoHierarchicalStreamWriter> capture$2, id<JavaUtilList> capture$3);

__attribute__((unused)) static ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_1 *new_ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_1_initWithComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_withJavaUtilMap_withId_withComThoughtworksXstreamIoHierarchicalStreamWriter_withJavaUtilList_(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter *outer$, id<JavaUtilMap> capture$0, id capture$1, id<ComThoughtworksXstreamIoHierarchicalStreamWriter> capture$2, id<JavaUtilList> capture$3) NS_RETURNS_RETAINED;

__attribute__((unused)) static ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_1 *create_ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_1_initWithComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_withJavaUtilMap_withId_withComThoughtworksXstreamIoHierarchicalStreamWriter_withJavaUtilList_(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter *outer$, id<JavaUtilMap> capture$0, id capture$1, id<ComThoughtworksXstreamIoHierarchicalStreamWriter> capture$2, id<JavaUtilList> capture$3);

@interface ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_2 : NSObject {
 @public
  ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter *this$0_;
  id val$source_;
  id<ComThoughtworksXstreamConvertersMarshallingContext> val$context_;
  id<ComThoughtworksXstreamIoHierarchicalStreamWriter> val$writer_;
  id<JavaUtilMap> val$defaultFieldDefinition_;
}

- (instancetype __nonnull)initWithComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter:(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter *)outer$
                                                                                       withJavaUtilList:(id<JavaUtilList>)capture$0
                                                                                                 withId:(id)capture$1
                                                 withComThoughtworksXstreamConvertersMarshallingContext:(id<ComThoughtworksXstreamConvertersMarshallingContext>)capture$2
                                                   withComThoughtworksXstreamIoHierarchicalStreamWriter:(id<ComThoughtworksXstreamIoHierarchicalStreamWriter>)capture$3
                                                                                        withJavaUtilMap:(id<JavaUtilMap>)capture$4;

- (void)writeFieldWithNSString:(NSString *)fieldName
                  withNSString:(NSString *)aliasName
                  withIOSClass:(IOSClass *)fieldType
                  withIOSClass:(IOSClass *)definedIn
                        withId:(id)newObj;

- (void)writeItemWithId:(id)item
withComThoughtworksXstreamConvertersMarshallingContext:(id<ComThoughtworksXstreamConvertersMarshallingContext>)context
withComThoughtworksXstreamIoHierarchicalStreamWriter:(id<ComThoughtworksXstreamIoHierarchicalStreamWriter>)writer;

@end

J2OBJC_EMPTY_STATIC_INIT(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_2)

__attribute__((unused)) static void ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_2_initWithComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_withJavaUtilList_withId_withComThoughtworksXstreamConvertersMarshallingContext_withComThoughtworksXstreamIoHierarchicalStreamWriter_withJavaUtilMap_(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_2 *self, ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter *outer$, id<JavaUtilList> capture$0, id capture$1, id<ComThoughtworksXstreamConvertersMarshallingContext> capture$2, id<ComThoughtworksXstreamIoHierarchicalStreamWriter> capture$3, id<JavaUtilMap> capture$4);

__attribute__((unused)) static ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_2 *new_ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_2_initWithComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_withJavaUtilList_withId_withComThoughtworksXstreamConvertersMarshallingContext_withComThoughtworksXstreamIoHierarchicalStreamWriter_withJavaUtilMap_(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter *outer$, id<JavaUtilList> capture$0, id capture$1, id<ComThoughtworksXstreamConvertersMarshallingContext> capture$2, id<ComThoughtworksXstreamIoHierarchicalStreamWriter> capture$3, id<JavaUtilMap> capture$4) NS_RETURNS_RETAINED;

__attribute__((unused)) static ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_2 *create_ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_2_initWithComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_withJavaUtilList_withId_withComThoughtworksXstreamConvertersMarshallingContext_withComThoughtworksXstreamIoHierarchicalStreamWriter_withJavaUtilMap_(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter *outer$, id<JavaUtilList> capture$0, id capture$1, id<ComThoughtworksXstreamConvertersMarshallingContext> capture$2, id<ComThoughtworksXstreamIoHierarchicalStreamWriter> capture$3, id<JavaUtilMap> capture$4);

@interface ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_3 : JavaUtilHashSet

- (instancetype __nonnull)init;

- (jboolean)addWithId:(id)e;

@end

J2OBJC_EMPTY_STATIC_INIT(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_3)

__attribute__((unused)) static void ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_3_init(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_3 *self);

__attribute__((unused)) static ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_3 *new_ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_3_init(void) NS_RETURNS_RETAINED;

__attribute__((unused)) static ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_3 *create_ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_3_init(void);

@interface ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_FieldInfo : NSObject {
 @public
  NSString *fieldName_;
  IOSClass *type_;
  IOSClass *definedIn_;
  id value_;
}

- (instancetype __nonnull)initWithNSString:(NSString *)fieldName
                              withIOSClass:(IOSClass *)type
                              withIOSClass:(IOSClass *)definedIn
                                    withId:(id)value;

@end

J2OBJC_EMPTY_STATIC_INIT(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_FieldInfo)

J2OBJC_FIELD_SETTER(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_FieldInfo, fieldName_, NSString *)
J2OBJC_FIELD_SETTER(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_FieldInfo, type_, IOSClass *)
J2OBJC_FIELD_SETTER(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_FieldInfo, definedIn_, IOSClass *)
J2OBJC_FIELD_SETTER(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_FieldInfo, value_, id)

__attribute__((unused)) static void ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_FieldInfo_initWithNSString_withIOSClass_withIOSClass_withId_(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_FieldInfo *self, NSString *fieldName, IOSClass *type, IOSClass *definedIn, id value);

__attribute__((unused)) static ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_FieldInfo *new_ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_FieldInfo_initWithNSString_withIOSClass_withIOSClass_withId_(NSString *fieldName, IOSClass *type, IOSClass *definedIn, id value) NS_RETURNS_RETAINED;

__attribute__((unused)) static ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_FieldInfo *create_ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_FieldInfo_initWithNSString_withIOSClass_withIOSClass_withId_(NSString *fieldName, IOSClass *type, IOSClass *definedIn, id value);

J2OBJC_TYPE_LITERAL_HEADER(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_FieldInfo)

@interface ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_ArraysList : JavaUtilArrayList {
 @public
  IOSClass *physicalFieldType_;
}

- (instancetype __nonnull)initWithIOSClass:(IOSClass *)physicalFieldType;

- (id)toPhysicalArray;

@end

J2OBJC_EMPTY_STATIC_INIT(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_ArraysList)

J2OBJC_FIELD_SETTER(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_ArraysList, physicalFieldType_, IOSClass *)

__attribute__((unused)) static void ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_ArraysList_initWithIOSClass_(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_ArraysList *self, IOSClass *physicalFieldType);

__attribute__((unused)) static ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_ArraysList *new_ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_ArraysList_initWithIOSClass_(IOSClass *physicalFieldType) NS_RETURNS_RETAINED;

__attribute__((unused)) static ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_ArraysList *create_ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_ArraysList_initWithIOSClass_(IOSClass *physicalFieldType);

J2OBJC_TYPE_LITERAL_HEADER(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_ArraysList)

@interface ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_MappingList : JavaUtilAbstractList {
 @public
  ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter *this$0_;
  id<JavaUtilMap> map_;
  NSString *keyFieldName_;
  id<JavaUtilMap> fieldCache_;
}

- (instancetype __nonnull)initWithComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter:(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter *)outer$
                                                                                        withJavaUtilMap:(id<JavaUtilMap>)map
                                                                                           withNSString:(NSString *)keyFieldName;

- (jboolean)addWithId:(id)object;

- (id)getWithInt:(jint)index;

- (jint)size;

@end

J2OBJC_EMPTY_STATIC_INIT(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_MappingList)

J2OBJC_FIELD_SETTER(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_MappingList, map_, id<JavaUtilMap>)
J2OBJC_FIELD_SETTER(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_MappingList, keyFieldName_, NSString *)
J2OBJC_FIELD_SETTER(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_MappingList, fieldCache_, id<JavaUtilMap>)

__attribute__((unused)) static void ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_MappingList_initWithComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_withJavaUtilMap_withNSString_(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_MappingList *self, ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter *outer$, id<JavaUtilMap> map, NSString *keyFieldName);

__attribute__((unused)) static ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_MappingList *new_ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_MappingList_initWithComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_withJavaUtilMap_withNSString_(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter *outer$, id<JavaUtilMap> map, NSString *keyFieldName) NS_RETURNS_RETAINED;

__attribute__((unused)) static ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_MappingList *create_ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_MappingList_initWithComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_withJavaUtilMap_withNSString_(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter *outer$, id<JavaUtilMap> map, NSString *keyFieldName);

J2OBJC_TYPE_LITERAL_HEADER(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_MappingList)

@implementation ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter

- (instancetype __nonnull)initWithComThoughtworksXstreamMapperMapper:(id<ComThoughtworksXstreamMapperMapper>)mapper
    withComThoughtworksXstreamConvertersReflectionReflectionProvider:(id<ComThoughtworksXstreamConvertersReflectionReflectionProvider>)reflectionProvider {
  ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_initWithComThoughtworksXstreamMapperMapper_withComThoughtworksXstreamConvertersReflectionReflectionProvider_(self, mapper, reflectionProvider);
  return self;
}

- (jboolean)canAccessWithIOSClass:(IOSClass *)type {
  @try {
    [((id<ComThoughtworksXstreamConvertersReflectionReflectionProvider>) nil_chk(reflectionProvider_)) getFieldOrNullWithIOSClass:type withNSString:@"%"];
    return true;
  }
  @catch (JavaLangNoClassDefFoundError *e) {
  }
  return false;
}

- (void)marshalWithId:(id)original
withComThoughtworksXstreamIoHierarchicalStreamWriter:(id<ComThoughtworksXstreamIoHierarchicalStreamWriter>)writer
withComThoughtworksXstreamConvertersMarshallingContext:(id<ComThoughtworksXstreamConvertersMarshallingContext>)context {
  id source = [((ComThoughtworksXstreamConvertersReflectionSerializationMethodInvoker *) nil_chk(serializationMethodInvoker_)) callWriteReplaceWithId:original];
  if (source != original && [ComThoughtworksXstreamCoreReferencingMarshallingContext_class_() isInstance:context]) {
    [((id<ComThoughtworksXstreamCoreReferencingMarshallingContext>) nil_chk(((id<ComThoughtworksXstreamCoreReferencingMarshallingContext>) cast_check(context, ComThoughtworksXstreamCoreReferencingMarshallingContext_class_())))) replaceWithId:original withId:source];
  }
  if ([nil_chk(source) java_getClass] != [nil_chk(original) java_getClass]) {
    NSString *attributeName = [((id<ComThoughtworksXstreamMapperMapper>) nil_chk(mapper_)) aliasForSystemAttributeWithNSString:@"resolves-to"];
    if (attributeName != nil) {
      [((id<ComThoughtworksXstreamIoHierarchicalStreamWriter>) nil_chk(writer)) addAttributeWithNSString:attributeName withNSString:[mapper_ serializedClassWithIOSClass:[source java_getClass]]];
    }
    [((id<ComThoughtworksXstreamConvertersMarshallingContext>) nil_chk(context)) convertAnotherWithId:source];
  }
  else {
    [self doMarshalWithId:source withComThoughtworksXstreamIoHierarchicalStreamWriter:writer withComThoughtworksXstreamConvertersMarshallingContext:context];
  }
}

- (void)doMarshalWithId:(id)source
withComThoughtworksXstreamIoHierarchicalStreamWriter:(id<ComThoughtworksXstreamIoHierarchicalStreamWriter>)writer
withComThoughtworksXstreamConvertersMarshallingContext:(id<ComThoughtworksXstreamConvertersMarshallingContext>)context {
  id<JavaUtilList> fields = create_JavaUtilArrayList_init();
  id<JavaUtilMap> defaultFieldDefinition = create_JavaUtilHashMap_init();
  [((id<ComThoughtworksXstreamConvertersReflectionReflectionProvider>) nil_chk(reflectionProvider_)) visitSerializableFieldsWithId:source withComThoughtworksXstreamConvertersReflectionReflectionProvider_Visitor:create_ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_1_initWithComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_withJavaUtilMap_withId_withComThoughtworksXstreamIoHierarchicalStreamWriter_withJavaUtilList_(self, defaultFieldDefinition, source, writer, fields)];
  create_ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_2_initWithComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_withJavaUtilList_withId_withComThoughtworksXstreamConvertersMarshallingContext_withComThoughtworksXstreamIoHierarchicalStreamWriter_withJavaUtilMap_(self, fields, source, context, writer, defaultFieldDefinition);
}

- (void)marshallFieldWithComThoughtworksXstreamConvertersMarshallingContext:(id<ComThoughtworksXstreamConvertersMarshallingContext>)context
                                                                     withId:(id)newObj
                                                   withJavaLangReflectField:(JavaLangReflectField *)field {
  [((id<ComThoughtworksXstreamConvertersMarshallingContext>) nil_chk(context)) convertAnotherWithId:newObj withComThoughtworksXstreamConvertersConverter:[((id<ComThoughtworksXstreamMapperMapper>) nil_chk(mapper_)) getLocalConverterWithIOSClass:[((JavaLangReflectField *) nil_chk(field)) getDeclaringClass] withNSString:[field getName]]];
}

- (id)unmarshalWithComThoughtworksXstreamIoHierarchicalStreamReader:(id<ComThoughtworksXstreamIoHierarchicalStreamReader>)reader
           withComThoughtworksXstreamConvertersUnmarshallingContext:(id<ComThoughtworksXstreamConvertersUnmarshallingContext>)context {
  id result = [self instantiateNewInstanceWithComThoughtworksXstreamIoHierarchicalStreamReader:reader withComThoughtworksXstreamConvertersUnmarshallingContext:context];
  result = [self doUnmarshalWithId:result withComThoughtworksXstreamIoHierarchicalStreamReader:reader withComThoughtworksXstreamConvertersUnmarshallingContext:context];
  return [((ComThoughtworksXstreamConvertersReflectionSerializationMethodInvoker *) nil_chk(serializationMethodInvoker_)) callReadResolveWithId:result];
}

- (id)doUnmarshalWithId:(id)result
withComThoughtworksXstreamIoHierarchicalStreamReader:(id<ComThoughtworksXstreamIoHierarchicalStreamReader>)reader
withComThoughtworksXstreamConvertersUnmarshallingContext:(id<ComThoughtworksXstreamConvertersUnmarshallingContext>)context {
  IOSClass *resultType = [nil_chk(result) java_getClass];
  id<JavaUtilSet> seenFields = create_ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_3_init();
  id<JavaUtilIterator> it = [((id<ComThoughtworksXstreamIoHierarchicalStreamReader>) nil_chk(reader)) getAttributeNames];
  while ([((id<JavaUtilIterator>) nil_chk(it)) hasNext]) {
    NSString *attrAlias = (NSString *) cast_chk([it next], [NSString class]);
    NSString *attrName = [((id<ComThoughtworksXstreamMapperMapper>) nil_chk(mapper_)) realMemberWithIOSClass:resultType withNSString:[mapper_ attributeForAliasWithNSString:attrAlias]];
    JavaLangReflectField *field = [((id<ComThoughtworksXstreamConvertersReflectionReflectionProvider>) nil_chk(reflectionProvider_)) getFieldOrNullWithIOSClass:resultType withNSString:attrName];
    if (field != nil && [self shouldUnmarshalFieldWithJavaLangReflectField:field]) {
      IOSClass *classDefiningField = [field getDeclaringClass];
      if (![mapper_ shouldSerializeMemberWithIOSClass:classDefiningField withNSString:attrName]) {
        continue;
      }
      id<ComThoughtworksXstreamConvertersSingleValueConverter> converter = [mapper_ getConverterFromAttributeWithIOSClass:classDefiningField withNSString:attrName withIOSClass:[field getType]];
      IOSClass *type = [field getType];
      if (converter != nil) {
        id value = [converter fromStringWithNSString:[reader getAttributeWithNSString:attrAlias]];
        if ([((IOSClass *) nil_chk(type)) isPrimitive]) {
          type = ComThoughtworksXstreamCoreUtilPrimitives_boxWithIOSClass_(type);
        }
        if (value != nil && ![((IOSClass *) nil_chk(type)) isAssignableFrom:[value java_getClass]]) {
          @throw create_ComThoughtworksXstreamConvertersConversionException_initWithNSString_(JreStrcat("$$$$", @"Cannot convert type ", [[value java_getClass] getName], @" to type ", [((IOSClass *) nil_chk(type)) getName]));
        }
        [seenFields addWithId:create_ComThoughtworksXstreamCoreUtilFastField_initWithIOSClass_withNSString_(classDefiningField, attrName)];
        [reflectionProvider_ writeFieldWithId:result withNSString:attrName withId:value withIOSClass:classDefiningField];
      }
    }
  }
  id<JavaUtilMap> implicitCollectionsForCurrentObject = nil;
  while ([reader hasMoreChildren]) {
    [reader moveDown];
    NSString *originalNodeName = [reader getNodeName];
    IOSClass *explicitDeclaringClass = ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_readDeclaringClassWithComThoughtworksXstreamIoHierarchicalStreamReader_(self, reader);
    IOSClass *fieldDeclaringClass = explicitDeclaringClass == nil ? resultType : explicitDeclaringClass;
    NSString *fieldName = [((id<ComThoughtworksXstreamMapperMapper>) nil_chk(mapper_)) realMemberWithIOSClass:fieldDeclaringClass withNSString:originalNodeName];
    id<ComThoughtworksXstreamMapperMapper_ImplicitCollectionMapping> implicitCollectionMapping = [mapper_ getImplicitCollectionDefForFieldNameWithIOSClass:fieldDeclaringClass withNSString:fieldName];
    id value;
    NSString *implicitFieldName = nil;
    JavaLangReflectField *field = nil;
    IOSClass *type = nil;
    if (implicitCollectionMapping == nil) {
      field = [((id<ComThoughtworksXstreamConvertersReflectionReflectionProvider>) nil_chk(reflectionProvider_)) getFieldOrNullWithIOSClass:fieldDeclaringClass withNSString:fieldName];
      if (field == nil) {
        IOSClass *itemType = [mapper_ getItemTypeForItemFieldNameWithIOSClass:resultType withNSString:fieldName];
        if (itemType != nil) {
          NSString *classAttribute = ComThoughtworksXstreamCoreUtilHierarchicalStreams_readClassAttributeWithComThoughtworksXstreamIoHierarchicalStreamReader_withComThoughtworksXstreamMapperMapper_(reader, mapper_);
          if (classAttribute != nil) {
            type = [mapper_ realClassWithNSString:classAttribute];
          }
          else {
            type = itemType;
          }
        }
        else {
          @try {
            type = [mapper_ realClassWithNSString:originalNodeName];
            implicitFieldName = [mapper_ getFieldNameForItemTypeAndNameWithIOSClass:[((id<ComThoughtworksXstreamConvertersUnmarshallingContext>) nil_chk(context)) getRequiredType] withIOSClass:type withNSString:originalNodeName];
          }
          @catch (ComThoughtworksXstreamMapperCannotResolveClassException *e) {
          }
          if (type == nil || (type != nil && implicitFieldName == nil)) {
            ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_handleUnknownFieldWithIOSClass_withNSString_withIOSClass_withNSString_(self, explicitDeclaringClass, fieldName, resultType, originalNodeName);
            type = nil;
          }
        }
        if (type == nil) {
          value = nil;
        }
        else {
          if ([JavaUtilMap_Entry_class_() isEqual:type]) {
            [reader moveDown];
            id key = [((id<ComThoughtworksXstreamConvertersUnmarshallingContext>) nil_chk(context)) convertAnotherWithId:result withIOSClass:ComThoughtworksXstreamCoreUtilHierarchicalStreams_readClassTypeWithComThoughtworksXstreamIoHierarchicalStreamReader_withComThoughtworksXstreamMapperMapper_(reader, mapper_)];
            [reader moveUp];
            [reader moveDown];
            id v = [context convertAnotherWithId:result withIOSClass:ComThoughtworksXstreamCoreUtilHierarchicalStreams_readClassTypeWithComThoughtworksXstreamIoHierarchicalStreamReader_withComThoughtworksXstreamMapperMapper_(reader, mapper_)];
            [reader moveUp];
            value = [((id<JavaUtilIterator>) nil_chk([((id<JavaUtilSet>) nil_chk([((id<JavaUtilMap>) nil_chk(JavaUtilCollections_singletonMapWithId_withId_(key, v))) entrySet])) iterator])) next];
          }
          else {
            value = [((id<ComThoughtworksXstreamConvertersUnmarshallingContext>) nil_chk(context)) convertAnotherWithId:result withIOSClass:type];
          }
        }
      }
      else {
        jboolean fieldAlreadyChecked = false;
        if (explicitDeclaringClass == nil) {
          while (field != nil && !(fieldAlreadyChecked = ([self shouldUnmarshalFieldWithJavaLangReflectField:field] && [mapper_ shouldSerializeMemberWithIOSClass:[field getDeclaringClass] withNSString:fieldName]))) {
            field = [reflectionProvider_ getFieldOrNullWithIOSClass:[((IOSClass *) nil_chk([field getDeclaringClass])) getSuperclass] withNSString:fieldName];
          }
        }
        if (field != nil && (fieldAlreadyChecked || ([self shouldUnmarshalFieldWithJavaLangReflectField:field] && [mapper_ shouldSerializeMemberWithIOSClass:[field getDeclaringClass] withNSString:fieldName]))) {
          NSString *classAttribute = ComThoughtworksXstreamCoreUtilHierarchicalStreams_readClassAttributeWithComThoughtworksXstreamIoHierarchicalStreamReader_withComThoughtworksXstreamMapperMapper_(reader, mapper_);
          if (classAttribute != nil) {
            type = [mapper_ realClassWithNSString:classAttribute];
          }
          else {
            type = [mapper_ defaultImplementationOfWithIOSClass:[field getType]];
          }
          value = [self unmarshallFieldWithComThoughtworksXstreamConvertersUnmarshallingContext:context withId:result withIOSClass:type withJavaLangReflectField:field];
          IOSClass *definedType = [field getType];
          if (![((IOSClass *) nil_chk(definedType)) isPrimitive]) {
            type = definedType;
          }
        }
        else {
          value = nil;
        }
      }
    }
    else {
      implicitFieldName = [implicitCollectionMapping getFieldName];
      type = [implicitCollectionMapping getItemType];
      if (type == nil) {
        NSString *classAttribute = ComThoughtworksXstreamCoreUtilHierarchicalStreams_readClassAttributeWithComThoughtworksXstreamIoHierarchicalStreamReader_withComThoughtworksXstreamMapperMapper_(reader, mapper_);
        type = [mapper_ realClassWithNSString:classAttribute != nil ? classAttribute : originalNodeName];
      }
      value = [((id<ComThoughtworksXstreamConvertersUnmarshallingContext>) nil_chk(context)) convertAnotherWithId:result withIOSClass:type];
    }
    if (value != nil && ![((IOSClass *) nil_chk(type)) isAssignableFrom:[value java_getClass]]) {
      @throw create_ComThoughtworksXstreamConvertersConversionException_initWithNSString_(JreStrcat("$$$$", @"Cannot convert type ", [[value java_getClass] getName], @" to type ", [((IOSClass *) nil_chk(type)) getName]));
    }
    if (field != nil) {
      [((id<ComThoughtworksXstreamConvertersReflectionReflectionProvider>) nil_chk(reflectionProvider_)) writeFieldWithId:result withNSString:fieldName withId:value withIOSClass:[field getDeclaringClass]];
      [seenFields addWithId:create_ComThoughtworksXstreamCoreUtilFastField_initWithIOSClass_withNSString_([field getDeclaringClass], fieldName)];
    }
    else if (type != nil) {
      if (implicitFieldName == nil) {
        implicitFieldName = [mapper_ getFieldNameForItemTypeAndNameWithIOSClass:[((id<ComThoughtworksXstreamConvertersUnmarshallingContext>) nil_chk(context)) getRequiredType] withIOSClass:value != nil ? [value java_getClass] : ComThoughtworksXstreamMapperMapper_Null_class_() withNSString:originalNodeName];
      }
      if (implicitCollectionsForCurrentObject == nil) {
        implicitCollectionsForCurrentObject = create_JavaUtilHashMap_init();
      }
      ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_writeValueToImplicitCollectionWithId_withJavaUtilMap_withId_withNSString_(self, value, implicitCollectionsForCurrentObject, result, implicitFieldName);
    }
    [reader moveUp];
  }
  if (implicitCollectionsForCurrentObject != nil) {
    for (id<JavaUtilIterator> iter = [((id<JavaUtilSet>) nil_chk([implicitCollectionsForCurrentObject entrySet])) iterator]; [((id<JavaUtilIterator>) nil_chk(iter)) hasNext]; ) {
      id<JavaUtilMap_Entry> entry_ = (id<JavaUtilMap_Entry>) cast_check([iter next], JavaUtilMap_Entry_class_());
      id value = [((id<JavaUtilMap_Entry>) nil_chk(entry_)) getValue];
      if ([value isKindOfClass:[ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_ArraysList class]]) {
        id array = [((ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_ArraysList *) nil_chk(((ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_ArraysList *) cast_chk(value, [ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_ArraysList class])))) toPhysicalArray];
        [((id<ComThoughtworksXstreamConvertersReflectionReflectionProvider>) nil_chk(reflectionProvider_)) writeFieldWithId:result withNSString:(NSString *) cast_chk([entry_ getKey], [NSString class]) withId:array withIOSClass:nil];
      }
    }
  }
  return result;
}

- (id)unmarshallFieldWithComThoughtworksXstreamConvertersUnmarshallingContext:(id<ComThoughtworksXstreamConvertersUnmarshallingContext>)context
                                                                       withId:(id)result
                                                                 withIOSClass:(IOSClass *)type
                                                     withJavaLangReflectField:(JavaLangReflectField *)field {
  return [((id<ComThoughtworksXstreamConvertersUnmarshallingContext>) nil_chk(context)) convertAnotherWithId:result withIOSClass:type withComThoughtworksXstreamConvertersConverter:[((id<ComThoughtworksXstreamMapperMapper>) nil_chk(mapper_)) getLocalConverterWithIOSClass:[((JavaLangReflectField *) nil_chk(field)) getDeclaringClass] withNSString:[field getName]]];
}

- (jboolean)shouldUnmarshalTransientFields {
  return false;
}

- (jboolean)shouldUnmarshalFieldWithJavaLangReflectField:(JavaLangReflectField *)field {
  return !(JavaLangReflectModifier_isTransientWithInt_([((JavaLangReflectField *) nil_chk(field)) getModifiers]) && ![self shouldUnmarshalTransientFields]);
}

- (void)handleUnknownFieldWithIOSClass:(IOSClass *)classDefiningField
                          withNSString:(NSString *)fieldName
                          withIOSClass:(IOSClass *)resultType
                          withNSString:(NSString *)originalNodeName {
  ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_handleUnknownFieldWithIOSClass_withNSString_withIOSClass_withNSString_(self, classDefiningField, fieldName, resultType, originalNodeName);
}

- (void)writeValueToImplicitCollectionWithId:(id)value
                             withJavaUtilMap:(id<JavaUtilMap>)implicitCollections
                                      withId:(id)result
                                withNSString:(NSString *)implicitFieldName {
  ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_writeValueToImplicitCollectionWithId_withJavaUtilMap_withId_withNSString_(self, value, implicitCollections, result, implicitFieldName);
}

- (IOSClass *)readDeclaringClassWithComThoughtworksXstreamIoHierarchicalStreamReader:(id<ComThoughtworksXstreamIoHierarchicalStreamReader>)reader {
  return ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_readDeclaringClassWithComThoughtworksXstreamIoHierarchicalStreamReader_(self, reader);
}

- (id)instantiateNewInstanceWithComThoughtworksXstreamIoHierarchicalStreamReader:(id<ComThoughtworksXstreamIoHierarchicalStreamReader>)reader
                        withComThoughtworksXstreamConvertersUnmarshallingContext:(id<ComThoughtworksXstreamConvertersUnmarshallingContext>)context {
  NSString *attributeName = [((id<ComThoughtworksXstreamMapperMapper>) nil_chk(mapper_)) aliasForSystemAttributeWithNSString:@"resolves-to"];
  NSString *readResolveValue = attributeName == nil ? nil : [((id<ComThoughtworksXstreamIoHierarchicalStreamReader>) nil_chk(reader)) getAttributeWithNSString:attributeName];
  id currentObject = [((id<ComThoughtworksXstreamConvertersUnmarshallingContext>) nil_chk(context)) currentObject];
  if (currentObject != nil) {
    return currentObject;
  }
  else if (readResolveValue != nil) {
    return [((id<ComThoughtworksXstreamConvertersReflectionReflectionProvider>) nil_chk(reflectionProvider_)) newInstanceWithIOSClass:[mapper_ realClassWithNSString:readResolveValue]];
  }
  else {
    return [((id<ComThoughtworksXstreamConvertersReflectionReflectionProvider>) nil_chk(reflectionProvider_)) newInstanceWithIOSClass:[context getRequiredType]];
  }
}

- (void)flushCache {
  [((ComThoughtworksXstreamConvertersReflectionSerializationMethodInvoker *) nil_chk(serializationMethodInvoker_)) flushCache];
}

- (id)readResolve {
  return ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_readResolve(self);
}

- (void)dealloc {
  RELEASE_(reflectionProvider_);
  RELEASE_(mapper_);
  RELEASE_(serializationMethodInvoker_);
  RELEASE_(pureJavaReflectionProvider_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x1, -1, 0, -1, -1, -1, -1 },
    { NULL, "Z", 0x4, 1, 2, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 3, 4, -1, -1, -1, -1 },
    { NULL, "V", 0x4, 5, 4, -1, -1, -1, -1 },
    { NULL, "V", 0x4, 6, 7, -1, -1, -1, -1 },
    { NULL, "LNSObject;", 0x1, 8, 9, -1, -1, -1, -1 },
    { NULL, "LNSObject;", 0x1, 10, 11, -1, -1, -1, -1 },
    { NULL, "LNSObject;", 0x4, 12, 13, -1, -1, -1, -1 },
    { NULL, "Z", 0x4, -1, -1, -1, -1, -1, -1 },
    { NULL, "Z", 0x4, 14, 15, -1, -1, -1, -1 },
    { NULL, "V", 0x2, 16, 17, -1, -1, -1, -1 },
    { NULL, "V", 0x2, 18, 19, -1, -1, -1, -1 },
    { NULL, "LIOSClass;", 0x2, 20, 21, -1, -1, -1, -1 },
    { NULL, "LNSObject;", 0x4, 22, 9, -1, -1, -1, -1 },
    { NULL, "V", 0x1, -1, -1, -1, -1, -1, -1 },
    { NULL, "LNSObject;", 0x2, -1, -1, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initWithComThoughtworksXstreamMapperMapper:withComThoughtworksXstreamConvertersReflectionReflectionProvider:);
  methods[1].selector = @selector(canAccessWithIOSClass:);
  methods[2].selector = @selector(marshalWithId:withComThoughtworksXstreamIoHierarchicalStreamWriter:withComThoughtworksXstreamConvertersMarshallingContext:);
  methods[3].selector = @selector(doMarshalWithId:withComThoughtworksXstreamIoHierarchicalStreamWriter:withComThoughtworksXstreamConvertersMarshallingContext:);
  methods[4].selector = @selector(marshallFieldWithComThoughtworksXstreamConvertersMarshallingContext:withId:withJavaLangReflectField:);
  methods[5].selector = @selector(unmarshalWithComThoughtworksXstreamIoHierarchicalStreamReader:withComThoughtworksXstreamConvertersUnmarshallingContext:);
  methods[6].selector = @selector(doUnmarshalWithId:withComThoughtworksXstreamIoHierarchicalStreamReader:withComThoughtworksXstreamConvertersUnmarshallingContext:);
  methods[7].selector = @selector(unmarshallFieldWithComThoughtworksXstreamConvertersUnmarshallingContext:withId:withIOSClass:withJavaLangReflectField:);
  methods[8].selector = @selector(shouldUnmarshalTransientFields);
  methods[9].selector = @selector(shouldUnmarshalFieldWithJavaLangReflectField:);
  methods[10].selector = @selector(handleUnknownFieldWithIOSClass:withNSString:withIOSClass:withNSString:);
  methods[11].selector = @selector(writeValueToImplicitCollectionWithId:withJavaUtilMap:withId:withNSString:);
  methods[12].selector = @selector(readDeclaringClassWithComThoughtworksXstreamIoHierarchicalStreamReader:);
  methods[13].selector = @selector(instantiateNewInstanceWithComThoughtworksXstreamIoHierarchicalStreamReader:withComThoughtworksXstreamConvertersUnmarshallingContext:);
  methods[14].selector = @selector(flushCache);
  methods[15].selector = @selector(readResolve);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "reflectionProvider_", "LComThoughtworksXstreamConvertersReflectionReflectionProvider;", .constantValue.asLong = 0, 0x14, -1, -1, -1, -1 },
    { "mapper_", "LComThoughtworksXstreamMapperMapper;", .constantValue.asLong = 0, 0x14, -1, -1, -1, -1 },
    { "serializationMethodInvoker_", "LComThoughtworksXstreamConvertersReflectionSerializationMethodInvoker;", .constantValue.asLong = 0, 0x84, -1, -1, -1, -1 },
    { "pureJavaReflectionProvider_", "LComThoughtworksXstreamConvertersReflectionReflectionProvider;", .constantValue.asLong = 0, 0x82, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "LComThoughtworksXstreamMapperMapper;LComThoughtworksXstreamConvertersReflectionReflectionProvider;", "canAccess", "LIOSClass;", "marshal", "LNSObject;LComThoughtworksXstreamIoHierarchicalStreamWriter;LComThoughtworksXstreamConvertersMarshallingContext;", "doMarshal", "marshallField", "LComThoughtworksXstreamConvertersMarshallingContext;LNSObject;LJavaLangReflectField;", "unmarshal", "LComThoughtworksXstreamIoHierarchicalStreamReader;LComThoughtworksXstreamConvertersUnmarshallingContext;", "doUnmarshal", "LNSObject;LComThoughtworksXstreamIoHierarchicalStreamReader;LComThoughtworksXstreamConvertersUnmarshallingContext;", "unmarshallField", "LComThoughtworksXstreamConvertersUnmarshallingContext;LNSObject;LIOSClass;LJavaLangReflectField;", "shouldUnmarshalField", "LJavaLangReflectField;", "handleUnknownField", "LIOSClass;LNSString;LIOSClass;LNSString;", "writeValueToImplicitCollection", "LNSObject;LJavaUtilMap;LNSObject;LNSString;", "readDeclaringClass", "LComThoughtworksXstreamIoHierarchicalStreamReader;", "instantiateNewInstance", "LComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_DuplicateFieldException;LComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_UnknownFieldException;LComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_FieldInfo;LComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_ArraysList;LComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_MappingList;" };
  static const J2ObjcClassInfo _ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter = { "AbstractReflectionConverter", "com.thoughtworks.xstream.converters.reflection", ptrTable, methods, fields, 7, 0x401, 16, 4, -1, 23, -1, -1, -1 };
  return &_ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter;
}

@end

void ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_initWithComThoughtworksXstreamMapperMapper_withComThoughtworksXstreamConvertersReflectionReflectionProvider_(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter *self, id<ComThoughtworksXstreamMapperMapper> mapper, id<ComThoughtworksXstreamConvertersReflectionReflectionProvider> reflectionProvider) {
  NSObject_init(self);
  JreStrongAssign(&self->mapper_, mapper);
  JreStrongAssign(&self->reflectionProvider_, reflectionProvider);
  JreStrongAssignAndConsume(&self->serializationMethodInvoker_, new_ComThoughtworksXstreamConvertersReflectionSerializationMethodInvoker_init());
}

void ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_handleUnknownFieldWithIOSClass_withNSString_withIOSClass_withNSString_(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter *self, IOSClass *classDefiningField, NSString *fieldName, IOSClass *resultType, NSString *originalNodeName) {
  if (classDefiningField == nil) {
    for (IOSClass *cls = resultType; cls != nil; cls = [cls getSuperclass]) {
      if (![((id<ComThoughtworksXstreamMapperMapper>) nil_chk(self->mapper_)) shouldSerializeMemberWithIOSClass:cls withNSString:originalNodeName]) {
        return;
      }
    }
  }
  @throw create_ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_UnknownFieldException_initWithNSString_withNSString_([((IOSClass *) nil_chk(resultType)) getName], fieldName);
}

void ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_writeValueToImplicitCollectionWithId_withJavaUtilMap_withId_withNSString_(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter *self, id value, id<JavaUtilMap> implicitCollections, id result, NSString *implicitFieldName) {
  id<JavaUtilCollection> collection = (id<JavaUtilCollection>) cast_check([((id<JavaUtilMap>) nil_chk(implicitCollections)) getWithId:implicitFieldName], JavaUtilCollection_class_());
  if (collection == nil) {
    IOSClass *physicalFieldType = [((id<ComThoughtworksXstreamConvertersReflectionReflectionProvider>) nil_chk(self->reflectionProvider_)) getFieldTypeWithId:result withNSString:implicitFieldName withIOSClass:nil];
    if ([((IOSClass *) nil_chk(physicalFieldType)) isArray]) {
      collection = create_ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_ArraysList_initWithIOSClass_(physicalFieldType);
    }
    else {
      IOSClass *fieldType = [((id<ComThoughtworksXstreamMapperMapper>) nil_chk(self->mapper_)) defaultImplementationOfWithIOSClass:physicalFieldType];
      if (!([JavaUtilCollection_class_() isAssignableFrom:fieldType] || [JavaUtilMap_class_() isAssignableFrom:fieldType])) {
        @throw create_ComThoughtworksXstreamConvertersReflectionObjectAccessException_initWithNSString_(JreStrcat("$$$$$$", @"Field ", implicitFieldName, @" of ", [[nil_chk(result) java_getClass] getName], @" is configured for an implicit Collection or Map, but field is of type ", [((IOSClass *) nil_chk(fieldType)) getName]));
      }
      if (self->pureJavaReflectionProvider_ == nil) {
        JreStrongAssignAndConsume(&self->pureJavaReflectionProvider_, new_ComThoughtworksXstreamConvertersReflectionPureJavaReflectionProvider_init());
      }
      id instance = [self->pureJavaReflectionProvider_ newInstanceWithIOSClass:fieldType];
      if ([JavaUtilCollection_class_() isInstance:instance]) {
        collection = (id<JavaUtilCollection>) cast_check(instance, JavaUtilCollection_class_());
      }
      else {
        id<ComThoughtworksXstreamMapperMapper_ImplicitCollectionMapping> implicitCollectionMapping = [self->mapper_ getImplicitCollectionDefForFieldNameWithIOSClass:[nil_chk(result) java_getClass] withNSString:implicitFieldName];
        collection = create_ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_MappingList_initWithComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_withJavaUtilMap_withNSString_(self, (id<JavaUtilMap>) cast_check(instance, JavaUtilMap_class_()), [((id<ComThoughtworksXstreamMapperMapper_ImplicitCollectionMapping>) nil_chk(implicitCollectionMapping)) getKeyFieldName]);
      }
      [self->reflectionProvider_ writeFieldWithId:result withNSString:implicitFieldName withId:instance withIOSClass:nil];
    }
    [implicitCollections putWithId:implicitFieldName withId:collection];
  }
  [((id<JavaUtilCollection>) nil_chk(collection)) addWithId:value];
}

IOSClass *ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_readDeclaringClassWithComThoughtworksXstreamIoHierarchicalStreamReader_(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter *self, id<ComThoughtworksXstreamIoHierarchicalStreamReader> reader) {
  NSString *attributeName = [((id<ComThoughtworksXstreamMapperMapper>) nil_chk(self->mapper_)) aliasForSystemAttributeWithNSString:@"defined-in"];
  NSString *definedIn = attributeName == nil ? nil : [((id<ComThoughtworksXstreamIoHierarchicalStreamReader>) nil_chk(reader)) getAttributeWithNSString:attributeName];
  return definedIn == nil ? nil : [self->mapper_ realClassWithNSString:definedIn];
}

id ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_readResolve(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter *self) {
  JreStrongAssignAndConsume(&self->serializationMethodInvoker_, new_ComThoughtworksXstreamConvertersReflectionSerializationMethodInvoker_init());
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter)

@implementation ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_1

- (instancetype __nonnull)initWithComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter:(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter *)outer$
                                                                                        withJavaUtilMap:(id<JavaUtilMap>)capture$0
                                                                                                 withId:(id)capture$1
                                                   withComThoughtworksXstreamIoHierarchicalStreamWriter:(id<ComThoughtworksXstreamIoHierarchicalStreamWriter>)capture$2
                                                                                       withJavaUtilList:(id<JavaUtilList>)capture$3 {
  ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_1_initWithComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_withJavaUtilMap_withId_withComThoughtworksXstreamIoHierarchicalStreamWriter_withJavaUtilList_(self, outer$, capture$0, capture$1, capture$2, capture$3);
  return self;
}

- (void)visitWithNSString:(NSString *)fieldName
             withIOSClass:(IOSClass *)type
             withIOSClass:(IOSClass *)definedIn
                   withId:(id)value {
  if (![((id<ComThoughtworksXstreamMapperMapper>) nil_chk(this$0_->mapper_)) shouldSerializeMemberWithIOSClass:definedIn withNSString:fieldName]) {
    return;
  }
  if (![((id<JavaUtilMap>) nil_chk(val$defaultFieldDefinition_)) containsKeyWithId:fieldName]) {
    IOSClass *lookupType = [nil_chk(val$source_) java_getClass];
    if (definedIn != [val$source_ java_getClass] && ![this$0_->mapper_ shouldSerializeMemberWithIOSClass:lookupType withNSString:fieldName]) {
      lookupType = definedIn;
    }
    [val$defaultFieldDefinition_ putWithId:fieldName withId:[((id<ComThoughtworksXstreamConvertersReflectionReflectionProvider>) nil_chk(this$0_->reflectionProvider_)) getFieldWithIOSClass:lookupType withNSString:fieldName]];
  }
  id<ComThoughtworksXstreamConvertersSingleValueConverter> converter = [this$0_->mapper_ getConverterFromItemTypeWithNSString:fieldName withIOSClass:type withIOSClass:definedIn];
  if (converter != nil) {
    NSString *attribute = [this$0_->mapper_ aliasForAttributeWithNSString:[this$0_->mapper_ serializedMemberWithIOSClass:definedIn withNSString:fieldName]];
    if (value != nil) {
      if ([((id<JavaUtilSet>) nil_chk(writtenAttributes_)) containsWithId:fieldName]) {
        @throw create_ComThoughtworksXstreamConvertersConversionException_initWithNSString_(JreStrcat("$$$$", @"Cannot write field with name '", fieldName, @"' twice as attribute for object of type ", [[nil_chk(val$source_) java_getClass] getName]));
      }
      NSString *str = [converter toStringWithId:value];
      if (str != nil) {
        [((id<ComThoughtworksXstreamIoHierarchicalStreamWriter>) nil_chk(val$writer_)) addAttributeWithNSString:attribute withNSString:str];
      }
    }
    [((id<JavaUtilSet>) nil_chk(writtenAttributes_)) addWithId:fieldName];
  }
  else {
    [((id<JavaUtilList>) nil_chk(val$fields_)) addWithId:create_ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_FieldInfo_initWithNSString_withIOSClass_withIOSClass_withId_(fieldName, type, definedIn, value)];
  }
}

- (void)dealloc {
  RELEASE_(this$0_);
  RELEASE_(val$defaultFieldDefinition_);
  RELEASE_(val$source_);
  RELEASE_(val$writer_);
  RELEASE_(val$fields_);
  RELEASE_(writtenAttributes_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x0, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 0, 1, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initWithComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter:withJavaUtilMap:withId:withComThoughtworksXstreamIoHierarchicalStreamWriter:withJavaUtilList:);
  methods[1].selector = @selector(visitWithNSString:withIOSClass:withIOSClass:withId:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", "LComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter;", .constantValue.asLong = 0, 0x1012, -1, -1, -1, -1 },
    { "val$defaultFieldDefinition_", "LJavaUtilMap;", .constantValue.asLong = 0, 0x1012, -1, -1, -1, -1 },
    { "val$source_", "LNSObject;", .constantValue.asLong = 0, 0x1012, -1, -1, -1, -1 },
    { "val$writer_", "LComThoughtworksXstreamIoHierarchicalStreamWriter;", .constantValue.asLong = 0, 0x1012, -1, -1, -1, -1 },
    { "val$fields_", "LJavaUtilList;", .constantValue.asLong = 0, 0x1012, -1, -1, -1, -1 },
    { "writtenAttributes_", "LJavaUtilSet;", .constantValue.asLong = 0, 0x10, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "visit", "LNSString;LIOSClass;LIOSClass;LNSObject;", "LComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter;", "doMarshalWithId:withComThoughtworksXstreamIoHierarchicalStreamWriter:withComThoughtworksXstreamConvertersMarshallingContext:" };
  static const J2ObjcClassInfo _ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_1 = { "", "com.thoughtworks.xstream.converters.reflection", ptrTable, methods, fields, 7, 0x8018, 2, 6, 2, -1, 3, -1, -1 };
  return &_ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_1;
}

@end

void ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_1_initWithComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_withJavaUtilMap_withId_withComThoughtworksXstreamIoHierarchicalStreamWriter_withJavaUtilList_(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_1 *self, ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter *outer$, id<JavaUtilMap> capture$0, id capture$1, id<ComThoughtworksXstreamIoHierarchicalStreamWriter> capture$2, id<JavaUtilList> capture$3) {
  JreStrongAssign(&self->this$0_, outer$);
  JreStrongAssign(&self->val$defaultFieldDefinition_, capture$0);
  JreStrongAssign(&self->val$source_, capture$1);
  JreStrongAssign(&self->val$writer_, capture$2);
  JreStrongAssign(&self->val$fields_, capture$3);
  NSObject_init(self);
  JreStrongAssignAndConsume(&self->writtenAttributes_, new_JavaUtilHashSet_init());
}

ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_1 *new_ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_1_initWithComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_withJavaUtilMap_withId_withComThoughtworksXstreamIoHierarchicalStreamWriter_withJavaUtilList_(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter *outer$, id<JavaUtilMap> capture$0, id capture$1, id<ComThoughtworksXstreamIoHierarchicalStreamWriter> capture$2, id<JavaUtilList> capture$3) {
  J2OBJC_NEW_IMPL(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_1, initWithComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_withJavaUtilMap_withId_withComThoughtworksXstreamIoHierarchicalStreamWriter_withJavaUtilList_, outer$, capture$0, capture$1, capture$2, capture$3)
}

ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_1 *create_ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_1_initWithComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_withJavaUtilMap_withId_withComThoughtworksXstreamIoHierarchicalStreamWriter_withJavaUtilList_(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter *outer$, id<JavaUtilMap> capture$0, id capture$1, id<ComThoughtworksXstreamIoHierarchicalStreamWriter> capture$2, id<JavaUtilList> capture$3) {
  J2OBJC_CREATE_IMPL(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_1, initWithComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_withJavaUtilMap_withId_withComThoughtworksXstreamIoHierarchicalStreamWriter_withJavaUtilList_, outer$, capture$0, capture$1, capture$2, capture$3)
}

@implementation ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_2

- (instancetype __nonnull)initWithComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter:(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter *)outer$
                                                                                       withJavaUtilList:(id<JavaUtilList>)capture$0
                                                                                                 withId:(id)capture$1
                                                 withComThoughtworksXstreamConvertersMarshallingContext:(id<ComThoughtworksXstreamConvertersMarshallingContext>)capture$2
                                                   withComThoughtworksXstreamIoHierarchicalStreamWriter:(id<ComThoughtworksXstreamIoHierarchicalStreamWriter>)capture$3
                                                                                        withJavaUtilMap:(id<JavaUtilMap>)capture$4 {
  ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_2_initWithComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_withJavaUtilList_withId_withComThoughtworksXstreamConvertersMarshallingContext_withComThoughtworksXstreamIoHierarchicalStreamWriter_withJavaUtilMap_(self, outer$, capture$0, capture$1, capture$2, capture$3, capture$4);
  return self;
}

- (void)writeFieldWithNSString:(NSString *)fieldName
                  withNSString:(NSString *)aliasName
                  withIOSClass:(IOSClass *)fieldType
                  withIOSClass:(IOSClass *)definedIn
                        withId:(id)newObj {
  IOSClass *actualType = newObj != nil ? [newObj java_getClass] : fieldType;
  ComThoughtworksXstreamIoExtendedHierarchicalStreamWriterHelper_startNodeWithComThoughtworksXstreamIoHierarchicalStreamWriter_withNSString_withIOSClass_(val$writer_, aliasName != nil ? aliasName : [((id<ComThoughtworksXstreamMapperMapper>) nil_chk(this$0_->mapper_)) serializedMemberWithIOSClass:[nil_chk(val$source_) java_getClass] withNSString:fieldName], actualType);
  if (newObj != nil) {
    IOSClass *defaultType = [((id<ComThoughtworksXstreamMapperMapper>) nil_chk(this$0_->mapper_)) defaultImplementationOfWithIOSClass:fieldType];
    if (![actualType isEqual:defaultType]) {
      NSString *serializedClassName = [this$0_->mapper_ serializedClassWithIOSClass:actualType];
      if (![((NSString *) nil_chk(serializedClassName)) isEqual:[this$0_->mapper_ serializedClassWithIOSClass:defaultType]]) {
        NSString *attributeName = [this$0_->mapper_ aliasForSystemAttributeWithNSString:@"class"];
        if (attributeName != nil) {
          [((id<ComThoughtworksXstreamIoHierarchicalStreamWriter>) nil_chk(val$writer_)) addAttributeWithNSString:attributeName withNSString:serializedClassName];
        }
      }
    }
    JavaLangReflectField *defaultField = (JavaLangReflectField *) cast_chk([((id<JavaUtilMap>) nil_chk(val$defaultFieldDefinition_)) getWithId:fieldName], [JavaLangReflectField class]);
    if ([((JavaLangReflectField *) nil_chk(defaultField)) getDeclaringClass] != definedIn) {
      NSString *attributeName = [this$0_->mapper_ aliasForSystemAttributeWithNSString:@"defined-in"];
      if (attributeName != nil) {
        [((id<ComThoughtworksXstreamIoHierarchicalStreamWriter>) nil_chk(val$writer_)) addAttributeWithNSString:attributeName withNSString:[this$0_->mapper_ serializedClassWithIOSClass:definedIn]];
      }
    }
    JavaLangReflectField *field = [((id<ComThoughtworksXstreamConvertersReflectionReflectionProvider>) nil_chk(this$0_->reflectionProvider_)) getFieldWithIOSClass:definedIn withNSString:fieldName];
    [this$0_ marshallFieldWithComThoughtworksXstreamConvertersMarshallingContext:val$context_ withId:newObj withJavaLangReflectField:field];
  }
  [((id<ComThoughtworksXstreamIoHierarchicalStreamWriter>) nil_chk(val$writer_)) endNode];
}

- (void)writeItemWithId:(id)item
withComThoughtworksXstreamConvertersMarshallingContext:(id<ComThoughtworksXstreamConvertersMarshallingContext>)context
withComThoughtworksXstreamIoHierarchicalStreamWriter:(id<ComThoughtworksXstreamIoHierarchicalStreamWriter>)writer {
  if (item == nil) {
    NSString *name = [((id<ComThoughtworksXstreamMapperMapper>) nil_chk(this$0_->mapper_)) serializedClassWithIOSClass:nil];
    ComThoughtworksXstreamIoExtendedHierarchicalStreamWriterHelper_startNodeWithComThoughtworksXstreamIoHierarchicalStreamWriter_withNSString_withIOSClass_(writer, name, ComThoughtworksXstreamMapperMapper_Null_class_());
    [((id<ComThoughtworksXstreamIoHierarchicalStreamWriter>) nil_chk(writer)) endNode];
  }
  else {
    NSString *name = [((id<ComThoughtworksXstreamMapperMapper>) nil_chk(this$0_->mapper_)) serializedClassWithIOSClass:[item java_getClass]];
    ComThoughtworksXstreamIoExtendedHierarchicalStreamWriterHelper_startNodeWithComThoughtworksXstreamIoHierarchicalStreamWriter_withNSString_withIOSClass_(writer, name, [item java_getClass]);
    [((id<ComThoughtworksXstreamConvertersMarshallingContext>) nil_chk(context)) convertAnotherWithId:item];
    [((id<ComThoughtworksXstreamIoHierarchicalStreamWriter>) nil_chk(writer)) endNode];
  }
}

- (void)dealloc {
  RELEASE_(this$0_);
  RELEASE_(val$source_);
  RELEASE_(val$context_);
  RELEASE_(val$writer_);
  RELEASE_(val$defaultFieldDefinition_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x0, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x0, 0, 1, -1, -1, -1, -1 },
    { NULL, "V", 0x0, 2, 3, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initWithComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter:withJavaUtilList:withId:withComThoughtworksXstreamConvertersMarshallingContext:withComThoughtworksXstreamIoHierarchicalStreamWriter:withJavaUtilMap:);
  methods[1].selector = @selector(writeFieldWithNSString:withNSString:withIOSClass:withIOSClass:withId:);
  methods[2].selector = @selector(writeItemWithId:withComThoughtworksXstreamConvertersMarshallingContext:withComThoughtworksXstreamIoHierarchicalStreamWriter:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", "LComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter;", .constantValue.asLong = 0, 0x1012, -1, -1, -1, -1 },
    { "val$source_", "LNSObject;", .constantValue.asLong = 0, 0x1012, -1, -1, -1, -1 },
    { "val$context_", "LComThoughtworksXstreamConvertersMarshallingContext;", .constantValue.asLong = 0, 0x1012, -1, -1, -1, -1 },
    { "val$writer_", "LComThoughtworksXstreamIoHierarchicalStreamWriter;", .constantValue.asLong = 0, 0x1012, -1, -1, -1, -1 },
    { "val$defaultFieldDefinition_", "LJavaUtilMap;", .constantValue.asLong = 0, 0x1012, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "writeField", "LNSString;LNSString;LIOSClass;LIOSClass;LNSObject;", "writeItem", "LNSObject;LComThoughtworksXstreamConvertersMarshallingContext;LComThoughtworksXstreamIoHierarchicalStreamWriter;", "LComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter;", "doMarshalWithId:withComThoughtworksXstreamIoHierarchicalStreamWriter:withComThoughtworksXstreamConvertersMarshallingContext:" };
  static const J2ObjcClassInfo _ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_2 = { "", "com.thoughtworks.xstream.converters.reflection", ptrTable, methods, fields, 7, 0x8018, 3, 5, 4, -1, 5, -1, -1 };
  return &_ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_2;
}

@end

void ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_2_initWithComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_withJavaUtilList_withId_withComThoughtworksXstreamConvertersMarshallingContext_withComThoughtworksXstreamIoHierarchicalStreamWriter_withJavaUtilMap_(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_2 *self, ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter *outer$, id<JavaUtilList> capture$0, id capture$1, id<ComThoughtworksXstreamConvertersMarshallingContext> capture$2, id<ComThoughtworksXstreamIoHierarchicalStreamWriter> capture$3, id<JavaUtilMap> capture$4) {
  JreStrongAssign(&self->this$0_, outer$);
  JreStrongAssign(&self->val$source_, capture$1);
  JreStrongAssign(&self->val$context_, capture$2);
  JreStrongAssign(&self->val$writer_, capture$3);
  JreStrongAssign(&self->val$defaultFieldDefinition_, capture$4);
  NSObject_init(self);
  {
    for (id<JavaUtilIterator> fieldIter = [((id<JavaUtilList>) nil_chk(capture$0)) iterator]; [((id<JavaUtilIterator>) nil_chk(fieldIter)) hasNext]; ) {
      ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_FieldInfo *info = (ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_FieldInfo *) cast_chk([fieldIter next], [ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_FieldInfo class]);
      if (((ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_FieldInfo *) nil_chk(info))->value_ != nil) {
        id<ComThoughtworksXstreamMapperMapper_ImplicitCollectionMapping> mapping = [((id<ComThoughtworksXstreamMapperMapper>) nil_chk(outer$->mapper_)) getImplicitCollectionDefForFieldNameWithIOSClass:[nil_chk(capture$1) java_getClass] withNSString:info->fieldName_];
        if (mapping != nil) {
          if ([ComThoughtworksXstreamCoreReferencingMarshallingContext_class_() isInstance:capture$2]) {
            if (info->value_ != JreLoadStatic(JavaUtilCollections, EMPTY_LIST) && info->value_ != JreLoadStatic(JavaUtilCollections, EMPTY_SET) && info->value_ != JreLoadStatic(JavaUtilCollections, EMPTY_MAP)) {
              id<ComThoughtworksXstreamCoreReferencingMarshallingContext> refContext = (id<ComThoughtworksXstreamCoreReferencingMarshallingContext>) cast_check(capture$2, ComThoughtworksXstreamCoreReferencingMarshallingContext_class_());
              [((id<ComThoughtworksXstreamCoreReferencingMarshallingContext>) nil_chk(refContext)) registerImplicitWithId:info->value_];
            }
          }
          jboolean isCollection = [JavaUtilCollection_class_() isInstance:info->value_];
          jboolean isMap = [JavaUtilMap_class_() isInstance:info->value_];
          jboolean isEntry = isMap && [mapping getKeyFieldName] == nil;
          jboolean isArray = [[info->value_ java_getClass] isArray];
          for (id<JavaUtilIterator> iter = isArray ? create_ComThoughtworksXstreamCoreUtilArrayIterator_initWithId_(info->value_) : isCollection ? [((id<JavaUtilCollection>) cast_check(info->value_, JavaUtilCollection_class_())) iterator] : isEntry ? [((id<JavaUtilSet>) nil_chk([((id<JavaUtilMap>) cast_check(info->value_, JavaUtilMap_class_())) entrySet])) iterator] : [((id<JavaUtilCollection>) nil_chk([((id<JavaUtilMap>) cast_check(info->value_, JavaUtilMap_class_())) values])) iterator]; [iter hasNext]; ) {
            id obj = [iter next];
            NSString *itemName;
            IOSClass *itemType;
            if (obj == nil) {
              itemType = NSObject_class_();
              itemName = [outer$->mapper_ serializedClassWithIOSClass:nil];
            }
            else if (isEntry) {
              NSString *entryName = [mapping getItemFieldName] != nil ? [mapping getItemFieldName] : [outer$->mapper_ serializedClassWithIOSClass:JavaUtilMap_Entry_class_()];
              id<JavaUtilMap_Entry> entry_ = (id<JavaUtilMap_Entry>) cast_check(obj, JavaUtilMap_Entry_class_());
              ComThoughtworksXstreamIoExtendedHierarchicalStreamWriterHelper_startNodeWithComThoughtworksXstreamIoHierarchicalStreamWriter_withNSString_withIOSClass_(capture$3, entryName, [entry_ java_getClass]);
              [self writeItemWithId:[entry_ getKey] withComThoughtworksXstreamConvertersMarshallingContext:capture$2 withComThoughtworksXstreamIoHierarchicalStreamWriter:capture$3];
              [self writeItemWithId:[entry_ getValue] withComThoughtworksXstreamConvertersMarshallingContext:capture$2 withComThoughtworksXstreamIoHierarchicalStreamWriter:capture$3];
              [((id<ComThoughtworksXstreamIoHierarchicalStreamWriter>) nil_chk(capture$3)) endNode];
              continue;
            }
            else if ([mapping getItemFieldName] != nil) {
              itemType = [mapping getItemType];
              itemName = [mapping getItemFieldName];
            }
            else {
              itemType = [obj java_getClass];
              itemName = [outer$->mapper_ serializedClassWithIOSClass:itemType];
            }
            [self writeFieldWithNSString:info->fieldName_ withNSString:itemName withIOSClass:itemType withIOSClass:info->definedIn_ withId:obj];
          }
        }
        else {
          [self writeFieldWithNSString:info->fieldName_ withNSString:nil withIOSClass:info->type_ withIOSClass:info->definedIn_ withId:info->value_];
        }
      }
    }
  }
}

ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_2 *new_ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_2_initWithComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_withJavaUtilList_withId_withComThoughtworksXstreamConvertersMarshallingContext_withComThoughtworksXstreamIoHierarchicalStreamWriter_withJavaUtilMap_(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter *outer$, id<JavaUtilList> capture$0, id capture$1, id<ComThoughtworksXstreamConvertersMarshallingContext> capture$2, id<ComThoughtworksXstreamIoHierarchicalStreamWriter> capture$3, id<JavaUtilMap> capture$4) {
  J2OBJC_NEW_IMPL(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_2, initWithComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_withJavaUtilList_withId_withComThoughtworksXstreamConvertersMarshallingContext_withComThoughtworksXstreamIoHierarchicalStreamWriter_withJavaUtilMap_, outer$, capture$0, capture$1, capture$2, capture$3, capture$4)
}

ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_2 *create_ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_2_initWithComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_withJavaUtilList_withId_withComThoughtworksXstreamConvertersMarshallingContext_withComThoughtworksXstreamIoHierarchicalStreamWriter_withJavaUtilMap_(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter *outer$, id<JavaUtilList> capture$0, id capture$1, id<ComThoughtworksXstreamConvertersMarshallingContext> capture$2, id<ComThoughtworksXstreamIoHierarchicalStreamWriter> capture$3, id<JavaUtilMap> capture$4) {
  J2OBJC_CREATE_IMPL(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_2, initWithComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_withJavaUtilList_withId_withComThoughtworksXstreamConvertersMarshallingContext_withComThoughtworksXstreamIoHierarchicalStreamWriter_withJavaUtilMap_, outer$, capture$0, capture$1, capture$2, capture$3, capture$4)
}

@implementation ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_3

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype __nonnull)init {
  ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_3_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

- (jboolean)addWithId:(id)e {
  if (![super addWithId:e]) {
    @throw create_ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_DuplicateFieldException_initWithNSString_([((ComThoughtworksXstreamCoreUtilFastField *) nil_chk(((ComThoughtworksXstreamCoreUtilFastField *) cast_chk(e, [ComThoughtworksXstreamCoreUtilFastField class])))) getName]);
  }
  return true;
}

- (NSUInteger)countByEnumeratingWithState:(NSFastEnumerationState *)state objects:(__unsafe_unretained id *)stackbuf count:(NSUInteger)len {
  return JreDefaultFastEnumeration(self, state, stackbuf);
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x0, -1, -1, -1, -1, -1, -1 },
    { NULL, "Z", 0x1, 0, 1, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(init);
  methods[1].selector = @selector(addWithId:);
  #pragma clang diagnostic pop
  static const void *ptrTable[] = { "add", "LNSObject;", "LComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter;", "doUnmarshalWithId:withComThoughtworksXstreamIoHierarchicalStreamReader:withComThoughtworksXstreamConvertersUnmarshallingContext:" };
  static const J2ObjcClassInfo _ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_3 = { "", "com.thoughtworks.xstream.converters.reflection", ptrTable, methods, NULL, 7, 0x8018, 2, 0, 2, -1, 3, -1, -1 };
  return &_ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_3;
}

@end

void ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_3_init(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_3 *self) {
  JavaUtilHashSet_init(self);
}

ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_3 *new_ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_3_init() {
  J2OBJC_NEW_IMPL(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_3, init)
}

ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_3 *create_ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_3_init() {
  J2OBJC_CREATE_IMPL(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_3, init)
}

@implementation ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_DuplicateFieldException

- (instancetype __nonnull)initWithNSString:(NSString *)msg {
  ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_DuplicateFieldException_initWithNSString_(self, msg);
  return self;
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x1, -1, 0, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initWithNSString:);
  #pragma clang diagnostic pop
  static const void *ptrTable[] = { "LNSString;", "LComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter;" };
  static const J2ObjcClassInfo _ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_DuplicateFieldException = { "DuplicateFieldException", "com.thoughtworks.xstream.converters.reflection", ptrTable, methods, NULL, 7, 0x9, 1, 0, 1, -1, -1, -1, -1 };
  return &_ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_DuplicateFieldException;
}

@end

void ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_DuplicateFieldException_initWithNSString_(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_DuplicateFieldException *self, NSString *msg) {
  ComThoughtworksXstreamConvertersConversionException_initWithNSString_(self, JreStrcat("$$", @"Duplicate field ", msg));
  [self addWithNSString:@"field" withNSString:msg];
}

ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_DuplicateFieldException *new_ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_DuplicateFieldException_initWithNSString_(NSString *msg) {
  J2OBJC_NEW_IMPL(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_DuplicateFieldException, initWithNSString_, msg)
}

ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_DuplicateFieldException *create_ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_DuplicateFieldException_initWithNSString_(NSString *msg) {
  J2OBJC_CREATE_IMPL(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_DuplicateFieldException, initWithNSString_, msg)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_DuplicateFieldException)

@implementation ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_UnknownFieldException

- (instancetype __nonnull)initWithNSString:(NSString *)type
                              withNSString:(NSString *)field {
  ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_UnknownFieldException_initWithNSString_withNSString_(self, type, field);
  return self;
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x1, -1, 0, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initWithNSString:withNSString:);
  #pragma clang diagnostic pop
  static const void *ptrTable[] = { "LNSString;LNSString;", "LComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter;" };
  static const J2ObjcClassInfo _ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_UnknownFieldException = { "UnknownFieldException", "com.thoughtworks.xstream.converters.reflection", ptrTable, methods, NULL, 7, 0x9, 1, 0, 1, -1, -1, -1, -1 };
  return &_ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_UnknownFieldException;
}

@end

void ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_UnknownFieldException_initWithNSString_withNSString_(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_UnknownFieldException *self, NSString *type, NSString *field) {
  ComThoughtworksXstreamConvertersConversionException_initWithNSString_(self, JreStrcat("$$C$", @"No such field ", type, '.', field));
  [self addWithNSString:@"field" withNSString:field];
}

ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_UnknownFieldException *new_ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_UnknownFieldException_initWithNSString_withNSString_(NSString *type, NSString *field) {
  J2OBJC_NEW_IMPL(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_UnknownFieldException, initWithNSString_withNSString_, type, field)
}

ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_UnknownFieldException *create_ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_UnknownFieldException_initWithNSString_withNSString_(NSString *type, NSString *field) {
  J2OBJC_CREATE_IMPL(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_UnknownFieldException, initWithNSString_withNSString_, type, field)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_UnknownFieldException)

@implementation ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_FieldInfo

- (instancetype __nonnull)initWithNSString:(NSString *)fieldName
                              withIOSClass:(IOSClass *)type
                              withIOSClass:(IOSClass *)definedIn
                                    withId:(id)value {
  ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_FieldInfo_initWithNSString_withIOSClass_withIOSClass_withId_(self, fieldName, type, definedIn, value);
  return self;
}

- (void)dealloc {
  RELEASE_(fieldName_);
  RELEASE_(type_);
  RELEASE_(definedIn_);
  RELEASE_(value_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x0, -1, 0, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initWithNSString:withIOSClass:withIOSClass:withId:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "fieldName_", "LNSString;", .constantValue.asLong = 0, 0x10, -1, -1, -1, -1 },
    { "type_", "LIOSClass;", .constantValue.asLong = 0, 0x10, -1, -1, -1, -1 },
    { "definedIn_", "LIOSClass;", .constantValue.asLong = 0, 0x10, -1, -1, -1, -1 },
    { "value_", "LNSObject;", .constantValue.asLong = 0, 0x10, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "LNSString;LIOSClass;LIOSClass;LNSObject;", "LComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter;" };
  static const J2ObjcClassInfo _ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_FieldInfo = { "FieldInfo", "com.thoughtworks.xstream.converters.reflection", ptrTable, methods, fields, 7, 0xa, 1, 4, 1, -1, -1, -1, -1 };
  return &_ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_FieldInfo;
}

@end

void ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_FieldInfo_initWithNSString_withIOSClass_withIOSClass_withId_(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_FieldInfo *self, NSString *fieldName, IOSClass *type, IOSClass *definedIn, id value) {
  NSObject_init(self);
  JreStrongAssign(&self->fieldName_, fieldName);
  JreStrongAssign(&self->type_, type);
  JreStrongAssign(&self->definedIn_, definedIn);
  JreStrongAssign(&self->value_, value);
}

ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_FieldInfo *new_ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_FieldInfo_initWithNSString_withIOSClass_withIOSClass_withId_(NSString *fieldName, IOSClass *type, IOSClass *definedIn, id value) {
  J2OBJC_NEW_IMPL(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_FieldInfo, initWithNSString_withIOSClass_withIOSClass_withId_, fieldName, type, definedIn, value)
}

ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_FieldInfo *create_ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_FieldInfo_initWithNSString_withIOSClass_withIOSClass_withId_(NSString *fieldName, IOSClass *type, IOSClass *definedIn, id value) {
  J2OBJC_CREATE_IMPL(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_FieldInfo, initWithNSString_withIOSClass_withIOSClass_withId_, fieldName, type, definedIn, value)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_FieldInfo)

@implementation ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_ArraysList

- (instancetype __nonnull)initWithIOSClass:(IOSClass *)physicalFieldType {
  ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_ArraysList_initWithIOSClass_(self, physicalFieldType);
  return self;
}

- (id)toPhysicalArray {
  IOSObjectArray *objects = [self toArray];
  id array = JavaLangReflectArray_newInstanceWithIOSClass_withInt_([((IOSClass *) nil_chk(physicalFieldType_)) getComponentType], ((IOSObjectArray *) nil_chk(objects))->size_);
  if ([((IOSClass *) nil_chk([physicalFieldType_ getComponentType])) isPrimitive]) {
    for (jint i = 0; i < objects->size_; ++i) {
      JavaLangReflectArray_setWithId_withInt_withId_(array, i, JavaLangReflectArray_getWithId_withInt_(objects, i));
    }
  }
  else {
    JavaLangSystem_arraycopyWithId_withInt_withId_withInt_withInt_(objects, 0, array, 0, objects->size_);
  }
  return array;
}

- (NSUInteger)countByEnumeratingWithState:(NSFastEnumerationState *)state objects:(__unsafe_unretained id *)stackbuf count:(NSUInteger)len {
  return JreDefaultFastEnumeration(self, state, stackbuf);
}

- (void)dealloc {
  RELEASE_(physicalFieldType_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x0, -1, 0, -1, -1, -1, -1 },
    { NULL, "LNSObject;", 0x0, -1, -1, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initWithIOSClass:);
  methods[1].selector = @selector(toPhysicalArray);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "physicalFieldType_", "LIOSClass;", .constantValue.asLong = 0, 0x10, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "LIOSClass;", "LComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter;" };
  static const J2ObjcClassInfo _ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_ArraysList = { "ArraysList", "com.thoughtworks.xstream.converters.reflection", ptrTable, methods, fields, 7, 0xa, 2, 1, 1, -1, -1, -1, -1 };
  return &_ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_ArraysList;
}

@end

void ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_ArraysList_initWithIOSClass_(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_ArraysList *self, IOSClass *physicalFieldType) {
  JavaUtilArrayList_init(self);
  JreStrongAssign(&self->physicalFieldType_, physicalFieldType);
}

ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_ArraysList *new_ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_ArraysList_initWithIOSClass_(IOSClass *physicalFieldType) {
  J2OBJC_NEW_IMPL(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_ArraysList, initWithIOSClass_, physicalFieldType)
}

ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_ArraysList *create_ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_ArraysList_initWithIOSClass_(IOSClass *physicalFieldType) {
  J2OBJC_CREATE_IMPL(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_ArraysList, initWithIOSClass_, physicalFieldType)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_ArraysList)

@implementation ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_MappingList

- (instancetype __nonnull)initWithComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter:(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter *)outer$
                                                                                        withJavaUtilMap:(id<JavaUtilMap>)map
                                                                                           withNSString:(NSString *)keyFieldName {
  ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_MappingList_initWithComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_withJavaUtilMap_withNSString_(self, outer$, map, keyFieldName);
  return self;
}

- (jboolean)addWithId:(id)object {
  if (object == nil) {
    jboolean containsNull = ![((id<JavaUtilMap>) nil_chk(map_)) containsKeyWithId:nil];
    [map_ putWithId:nil withId:nil];
    return containsNull;
  }
  IOSClass *itemType = [object java_getClass];
  if (keyFieldName_ != nil) {
    JavaLangReflectField *field = (JavaLangReflectField *) cast_chk([((id<JavaUtilMap>) nil_chk(fieldCache_)) getWithId:itemType], [JavaLangReflectField class]);
    if (field == nil) {
      field = [((id<ComThoughtworksXstreamConvertersReflectionReflectionProvider>) nil_chk(this$0_->reflectionProvider_)) getFieldWithIOSClass:itemType withNSString:keyFieldName_];
      [fieldCache_ putWithId:itemType withId:field];
    }
    if (field != nil) {
      @try {
        id key = [field getWithId:object];
        return [((id<JavaUtilMap>) nil_chk(map_)) putWithId:key withId:object] == nil;
      }
      @catch (JavaLangIllegalArgumentException *e) {
        @throw create_ComThoughtworksXstreamConvertersReflectionObjectAccessException_initWithNSString_withJavaLangThrowable_(JreStrcat("$@C$", @"Could not get field ", [field java_getClass], '.', [field getName]), e);
      }
      @catch (JavaLangIllegalAccessException *e) {
        @throw create_ComThoughtworksXstreamConvertersReflectionObjectAccessException_initWithNSString_withJavaLangThrowable_(JreStrcat("$@C$", @"Could not get field ", [field java_getClass], '.', [field getName]), e);
      }
    }
  }
  else if ([JavaUtilMap_Entry_class_() isInstance:object]) {
    id<JavaUtilMap_Entry> entry_ = (id<JavaUtilMap_Entry>) cast_check(object, JavaUtilMap_Entry_class_());
    return [((id<JavaUtilMap>) nil_chk(map_)) putWithId:[entry_ getKey] withId:[entry_ getValue]] == nil;
  }
  @throw create_ComThoughtworksXstreamConvertersConversionException_initWithNSString_(JreStrcat("$$$$", @"Element of type ", [[object java_getClass] getName], @" is not defined as entry for map of type ", [[((id<JavaUtilMap>) nil_chk(map_)) java_getClass] getName]));
}

- (id)getWithInt:(jint)index {
  @throw create_JavaLangUnsupportedOperationException_init();
}

- (jint)size {
  return [((id<JavaUtilMap>) nil_chk(map_)) size];
}

- (NSUInteger)countByEnumeratingWithState:(NSFastEnumerationState *)state objects:(__unsafe_unretained id *)stackbuf count:(NSUInteger)len {
  return JreDefaultFastEnumeration(self, state, stackbuf);
}

- (void)dealloc {
  RELEASE_(this$0_);
  RELEASE_(map_);
  RELEASE_(keyFieldName_);
  RELEASE_(fieldCache_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x1, -1, 0, -1, -1, -1, -1 },
    { NULL, "Z", 0x1, 1, 2, -1, -1, -1, -1 },
    { NULL, "LNSObject;", 0x1, 3, 4, -1, -1, -1, -1 },
    { NULL, "I", 0x1, -1, -1, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  #pragma clang diagnostic ignored "-Wundeclared-selector"
  methods[0].selector = @selector(initWithComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter:withJavaUtilMap:withNSString:);
  methods[1].selector = @selector(addWithId:);
  methods[2].selector = @selector(getWithInt:);
  methods[3].selector = @selector(size);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", "LComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter;", .constantValue.asLong = 0, 0x1012, -1, -1, -1, -1 },
    { "map_", "LJavaUtilMap;", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
    { "keyFieldName_", "LNSString;", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
    { "fieldCache_", "LJavaUtilMap;", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "LJavaUtilMap;LNSString;", "add", "LNSObject;", "get", "I", "LComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter;" };
  static const J2ObjcClassInfo _ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_MappingList = { "MappingList", "com.thoughtworks.xstream.converters.reflection", ptrTable, methods, fields, 7, 0x2, 4, 4, 5, -1, -1, -1, -1 };
  return &_ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_MappingList;
}

@end

void ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_MappingList_initWithComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_withJavaUtilMap_withNSString_(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_MappingList *self, ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter *outer$, id<JavaUtilMap> map, NSString *keyFieldName) {
  JreStrongAssign(&self->this$0_, outer$);
  JavaUtilAbstractList_init(self);
  JreStrongAssignAndConsume(&self->fieldCache_, new_JavaUtilHashMap_init());
  JreStrongAssign(&self->map_, map);
  JreStrongAssign(&self->keyFieldName_, keyFieldName);
}

ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_MappingList *new_ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_MappingList_initWithComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_withJavaUtilMap_withNSString_(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter *outer$, id<JavaUtilMap> map, NSString *keyFieldName) {
  J2OBJC_NEW_IMPL(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_MappingList, initWithComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_withJavaUtilMap_withNSString_, outer$, map, keyFieldName)
}

ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_MappingList *create_ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_MappingList_initWithComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_withJavaUtilMap_withNSString_(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter *outer$, id<JavaUtilMap> map, NSString *keyFieldName) {
  J2OBJC_CREATE_IMPL(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_MappingList, initWithComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_withJavaUtilMap_withNSString_, outer$, map, keyFieldName)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComThoughtworksXstreamConvertersReflectionAbstractReflectionConverter_MappingList)
